if(!window.af||"function"!=typeof af){var af=function(a){function b(a,b,c){var d=u.createDocumentFragment();if(c){for(c=a.length-1;c>=0;c--)d.insertBefore(a[c],d.firstChild);b.insertBefore(d,b.firstChild)}else{for(c=0;c<a.length;c++)d.appendChild(a[c]);b.appendChild(d)}}function c(a){return a in x?x[a]:x[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function d(a){for(var b=0;b<a.length;b++)a.indexOf(a[b])!=b&&(a.splice(b,1),b--);return a}function e(a,b){var c=[];if(a==t)return c;for(;a;a=a.nextSibling)1==a.nodeType&&a!==b&&c.push(a);return c}function f(a,b){try{return b.querySelectorAll(a)}catch(c){return[]}}function g(a,b){if(a)if(a.nodeType)b[b.length++]=a;else for(var c=0,d=a.length;d>c;c++)b[b.length++]=a[c]}function h(){}function i(b,c){b.os={},b.os.webkit=c.match(/WebKit\/([\d.]+)/)?!0:!1,b.os.android=c.match(/(Android)\s+([\d.]+)/)||c.match(/Silk-Accelerated/)?!0:!1,b.os.androidICS=b.os.android&&c.match(/(Android)\s4/)?!0:!1,b.os.ipad=c.match(/(iPad).*OS\s([\d_]+)/)?!0:!1,b.os.iphone=!b.os.ipad&&c.match(/(iPhone\sOS)\s([\d_]+)/)?!0:!1,b.os.ios7=(b.os.ipad||b.os.iphone)&&c.match(/7_/)?!0:!1,b.os.webos=c.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1,b.os.touchpad=b.os.webos&&c.match(/TouchPad/)?!0:!1,b.os.ios=b.os.ipad||b.os.iphone,b.os.playbook=c.match(/PlayBook/)?!0:!1,b.os.blackberry10=c.match(/BB10/)?!0:!1,b.os.blackberry=b.os.playbook||b.os.blackberry10||c.match(/BlackBerry/)?!0:!1,b.os.chrome=c.match(/Chrome/)?!0:!1,b.os.opera=c.match(/Opera/)?!0:!1,b.os.fennec=c.match(/fennec/i)?!0:c.match(/Firefox/)?!0:!1,b.os.ie=c.match(/MSIE 10.0/i)||c.match(/Trident\/7/i)?!0:!1,b.os.ieTouch=b.os.ie&&c.toLowerCase().match(/touch/i)?!0:!1,b.os.tizen=c.match(/Tizen/i)?!0:!1,b.os.supportsTouch=a.DocumentTouch&&u instanceof a.DocumentTouch||"ontouchstart"in a,b.feat={};var d=u.documentElement.getElementsByTagName("head")[0];b.feat.nativeTouchScroll="undefined"!=typeof d.style["-webkit-overflow-scrolling"]&&(b.os.ios||b.os.blackberry10),b.feat.cssPrefix=b.os.webkit?"Webkit":b.os.fennec?"Moz":b.os.ie?"ms":b.os.opera?"O":"",b.feat.cssTransformStart=b.os.opera?"(":"3d(",b.feat.cssTransformEnd=b.os.opera?")":",0)",b.os.android&&!b.os.webkit&&(b.os.android=!1);for(var d=["Webkit","Moz","ms","O"],e=0;e<d.length;e++)""===u.documentElement.style[d[e]+"Transform"]&&(b.feat.cssPrefix=d[e])}function j(a){return a._afmid||(a._afmid=H++)}function k(a,b,c,d){if(b=l(b),b.ns)var e=RegExp("(?:^| )"+b.ns.replace(" "," .* ?")+"(?: |$)");return(G[j(a)]||[]).filter(function(a){return!(!a||b.e&&a.e!=b.e||b.ns&&!e.test(a.ns)||c&&a.fn!=c&&("function"!=typeof a.fn||"function"!=typeof c||a.fn!==c)||d&&a.sel!=d)})}function l(a){return a=(""+a).split("."),{e:a[0],ns:a.slice(1).sort().join(" ")}}function m(a,b,c){F.isObject(a)?F.each(a,c):a.split(/\s/).forEach(function(a){c(a,b)})}function n(a,b,c,d,e){var f=j(a),g=G[f]||(G[f]=[]);m(b,c,function(b,c){var f=e&&e(c,b),h=f||c,i=function(b){var c=h.apply(a,[b].concat(b.data));return!1===c&&b.preventDefault(),c},f=F.extend(l(b),{fn:c,proxy:i,sel:d,del:f,i:g.length});g.push(f),a.addEventListener(f.e,i,!1)})}function o(a,b,c,d){var e=j(a);m(b||"",c,function(b,c){k(a,b,c,d).forEach(function(b){delete G[e][b.i],a.removeEventListener(b.e,b.proxy,!1)})})}function p(a){var b=F.extend({originalEvent:a},a);return F.each(K,function(c,d){b[c]=function(){return this[d]=I,"stopImmediatePropagation"!=c&&"stopPropagation"!=c||(a.cancelBubble=!0,a[c])?a[c].apply(a,arguments):void 0},b[d]=J}),b}function q(a,b,c,d,e){n(a,b,c,d,function(b){return function(c){var f,g=F(c.target).closest(d,a).get(0);return g?(f=F.extend(p(c),{currentTarget:g,liveFired:a,delegateTarget:a,data:e}),b.apply(g,[f].concat([].slice.call(arguments,1)))):void 0}})}function r(a,b){if(b&&a.dispatchEvent){var c=F.Event("destroy",{bubbles:!1});a.dispatchEvent(c)}if((c=j(a))&&G[c]){for(var d in G[c])a.removeEventListener(G[c][d].e,G[c][d].proxy,!1);delete G[c]}}function s(a,b){if(a){var c=a.childNodes;if(c&&0<c.length)for(var d;d<c.length;d++)s(c[d],b);r(a,b)}}var t,u=a.document,v=[],w=v.slice,x={},y=1,z=/<(\w+)[^>]*>/,A={},B={},C={columncount:!0,fontweight:!0,lineheight:!0,"column-count":!0,"font-weight":!0,"line-height":!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,"z-index":!0,zoom:!0},D="object"==typeof MSApp,E=function(a,b){if(this.length=0,!a)return this;if(a instanceof E&&b==t)return a;if(af.isFunction(a))return af(u).ready(a);if(af.isArray(a)&&a.length!=t){for(var c=0;c<a.length;c++)this[this.length++]=a[c];return this}if(af.isObject(a)&&af.isObject(b)){if(a.length==t)a.parentNode==b&&(this[this.length++]=a);else for(c=0;c<a.length;c++)a[c].parentNode==b&&(this[this.length++]=a[c]);return this}if(af.isObject(a)&&b==t)return this[this.length++]=a,this;if(b!==t){if(b instanceof E)return b.find(a)}else b=u;return this.selector(a,b)},F=function(a,b){return new E(a,b)};F.is$=function(a){return a instanceof E},F.map=function(a,b){var c,d,e=[];if(F.isArray(a))for(d=0;d<a.length;d++)c=b.apply(a[d],[d,a[d]]),c!==t&&e.push(c);else if(F.isObject(a))for(d in a)a.hasOwnProperty(d)&&"length"!=d&&(c=b(a[d],[d,a[d]]),c!==t&&e.push(c));return af(e)},F.each=function(a,b){var c;if(F.isArray(a))for(c=0;c<a.length&&!1!==b(c,a[c]);c++);else if(F.isObject(a))for(c in a)if(a.hasOwnProperty(c)&&"length"!=c&&!1===b(c,a[c]))break;return a},F.extend=function(a){if(a==t&&(a=this),1===arguments.length){for(var b in a)this[b]=a[b];return this}return w.call(arguments,1).forEach(function(b){for(var c in b)a[c]=b[c]}),a},F.isArray=function(a){return a instanceof Array&&a.push!=t},F.isFunction=function(a){return"function"==typeof a&&!(a instanceof RegExp)},F.isObject=function(a){return"object"==typeof a&&null!==a},F.fn=E.prototype={namepsace:"appframework",constructor:E,forEach:v.forEach,reduce:v.reduce,push:v.push,indexOf:v.indexOf,concat:v.concat,selector:function(a,b){if(a=a.trim(),"#"===a[0]&&-1==a.indexOf(".")&&-1==a.indexOf(",")&&-1===a.indexOf(" ")&&-1===a.indexOf(">"))b==u?g(b.getElementById(a.replace("#","")),this):g(f(a,b),this);else if("<"===a[0]&&">"===a[a.length-1]||-1!==a.indexOf("<")&&-1!==a.indexOf(">")){var c=u.createElement("div");D?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=a.trim()}):c.innerHTML=a.trim(),g(c.childNodes,this)}else g(f(a,b),this);return this},oldElement:void 0,slice:v.slice,length:0,setupOld:function(a){return a==t?F():(a.oldElement=this,a)},map:function(a){var b,c,d=[];for(c=0;c<this.length;c++)b=a.apply(this[c],[c,this[c]]),b!==t&&d.push(b);return F(d)},each:function(a){return this.forEach(function(b,c){a.call(b,c,b)}),this},ready:function(a){return"complete"===u.readyState||"loaded"===u.readyState||!F.os.ie&&"interactive"===u.readyState?a():u.addEventListener("DOMContentLoaded",a,!1),this},find:function(a){if(0===this.length)return this;for(var b,c=[],e=0;e<this.length;e++){b=F(a,this[e]);for(var f=0;f<b.length;f++)c.push(b[f])}return F(d(c))},html:function(a,b){if(0===this.length)return this;if(a===t)return this[0].innerHTML;for(var c=0;c<this.length;c++)if(!1!==b&&F.cleanUpContent(this[c],!1,!0),D){var d=this[c];MSApp.execUnsafeLocalFunction(function(){d.innerHTML=a})}else this[c].innerHTML=a;return this},text:function(a){if(0===this.length)return this;if(a===t)return this[0].textContent;for(var b=0;b<this.length;b++)this[b].textContent=a;return this},css:function(b,c,d){if(d=d!=t?d:this[0],0===this.length)return this;if(c==t&&"string"==typeof b)return a.getComputedStyle(d),d.style[b]?d.style[b]:a.getComputedStyle(d)[b];for(d=0;d<this.length;d++)if(F.isObject(b))for(var e in b)this[d].style[e]="number"!=typeof b[e]||C[e.toLowerCase()]?b[e]:b[e]+"px";else this[d].style[b]="number"!=typeof c||C[b.toLowerCase()]?c:c+"px";return this},vendorCss:function(a,b,c){return this.css(F.feat.cssPrefix+a,b,c)},cssTranslate:function(a){return this.vendorCss("Transform","translate"+F.feat.cssTransformStart+a+F.feat.cssTransformEnd)},computedStyle:function(b){return 0!==this.length&&b!=t?a.getComputedStyle(this[0],"")[b]:void 0},empty:function(){for(var a=0;a<this.length;a++)F.cleanUpContent(this[a],!1,!0),this[a].textContent="";return this},hide:function(){if(0===this.length)return this;for(var a=0;a<this.length;a++)"none"!=this.css("display",null,this[a])&&(this[a].setAttribute("afmOldStyle",this.css("display",null,this[a])),this[a].style.display="none");return this},show:function(){if(0===this.length)return this;for(var a=0;a<this.length;a++)"none"==this.css("display",null,this[a])&&(this[a].style.display=this[a].getAttribute("afmOldStyle")?this[a].getAttribute("afmOldStyle"):"block",this[a].removeAttribute("afmOldStyle"));return this},toggle:function(a){if(0===this.length)return this;for(var b=!0===a,c=0;c<this.length;c++)"none"==this.css("display",null,this[c])||a!=t&&!1!==b?"none"!=this.css("display",null,this[c])||a!=t&&!0!==b||(this[c].style.display=this[c].getAttribute("afmOldStyle")?this[c].getAttribute("afmOldStyle"):"block",this[c].removeAttribute("afmOldStyle")):(this[c].setAttribute("afmOldStyle",this.css("display",null,this[c])),this[c].style.display="none");return this},val:function(a){if(0===this.length)return a===t?void 0:this;if(a==t)return this[0].value;for(var b=0;b<this.length;b++)this[b].value=a;return this},attr:function(a,b){if(0===this.length)return b===t?void 0:this;if(b===t&&!F.isObject(a))return this[0].afmCacheId&&A[this[0].afmCacheId][a]?this[0].afmCacheId&&A[this[0].afmCacheId][a]:this[0].getAttribute(a);for(var c=0;c<this.length;c++)if(F.isObject(a))for(var d in a)F(this[c]).attr(d,a[d]);else F.isArray(b)||F.isObject(b)||F.isFunction(b)?(this[c].afmCacheId||(this[c].afmCacheId=F.uuid()),A[this[c].afmCacheId]||(A[this[c].afmCacheId]={}),A[this[c].afmCacheId][a]=b):null===b?(this[c].removeAttribute(a),this[c].afmCacheId&&A[this[c].afmCacheId][a]&&delete A[this[c].afmCacheId][a]):this[c].setAttribute(a,b);return this},removeAttr:function(a){for(var b=this,c=0;c<this.length;c++)a.split(/\s+/g).forEach(function(d){b[c].removeAttribute(d),b[c].afmCacheId&&A[b[c].afmCacheId][a]&&delete A[b[c].afmCacheId][a]});return this},prop:function(a,b){if(0===this.length)return b===t?void 0:this;if(b===t&&!F.isObject(a)){var c;return this[0].afmCacheId&&B[this[0].afmCacheId][a]?this[0].afmCacheId&&B[this[0].afmCacheId][a]:!(c=this[0][a])&&a in this[0]?this[0][a]:c}for(c=0;c<this.length;c++)if(F.isObject(a))for(var d in a)F(this[c]).prop(d,a[d]);else F.isArray(b)||F.isObject(b)||F.isFunction(b)?(this[c].afmCacheId||(this[c].afmCacheId=F.uuid()),B[this[c].afmCacheId]||(B[this[c].afmCacheId]={}),B[this[c].afmCacheId][a]=b):null===b&&void 0!==b?F(this[c]).removeProp(a):this[c][a]=b;return this},removeProp:function(a){for(var b=this,c=0;c<this.length;c++)a.split(/\s+/g).forEach(function(d){b[c][d]&&(b[c][d]=void 0),b[c].afmCacheId&&B[b[c].afmCacheId][a]&&delete B[b[c].afmCacheId][a]});return this},remove:function(a){if(a=F(this).filter(a),a==t)return this;for(var b=0;b<a.length;b++)F.cleanUpContent(a[b],!0,!0),a[b]&&a[b].parentNode&&a[b].parentNode.removeChild(a[b]);return this},addClass:function(a){if(a==t)return this;for(var b=0;b<this.length;b++){var c=this[b].className,d=[],e=this;a.split(/\s+/g).forEach(function(a){e.hasClass(a,e[b])||d.push(a)}),this[b].className+=(c?" ":"")+d.join(" "),this[b].className=this[b].className.trim()}return this},removeClass:function(a){if(a==t)return this;for(var b=0;b<this.length;b++){if(a==t){this[b].className="";break}var d=this[b].className;"object"==typeof this[b].className&&(d=" "),a.split(/\s+/g).forEach(function(a){d=d.replace(c(a)," ")}),this[b].className=0<d.length?d.trim():""}return this},toggleClass:function(a,b){if(a==t)return this;for(var c=0;c<this.length;c++)"boolean"!=typeof b&&(b=this.hasClass(a,this[c])),F(this[c])[b?"removeClass":"addClass"](a);return this},replaceClass:function(a,b){if(a==t||b==t)return this;for(var d=0;d<this.length;d++)if(a==t)this[d].className=b;else{var e=this[d].className;a.split(/\s+/g).concat(b.split(/\s+/g)).forEach(function(a){e=e.replace(c(a)," ")}),e=e.trim(),this[d].className=0<e.length?(e+" "+b).trim():b}return this},hasClass:function(a,b){return 0===this.length?!1:(b||(b=this[0]),c(a).test(b.className))},append:function(c,d){if(c&&c.length!=t&&0===c.length)return this;(F.isArray(c)||F.isObject(c))&&(c=F(c));var e,f;for(e=0;e<this.length;e++)if(c.length&&"string"!=typeof c)c=F(c),b(c,this[e],d);else{var g=z.test(c)?F(c):void 0;if((g==t||0===g.length)&&(g=u.createTextNode(c)),g instanceof E)for(var h=0,i=g.length;i>h;h++)f=g[h],f.nodeName==t||"script"!=f.nodeName.toLowerCase()||f.type&&"text/javascript"!==f.type.toLowerCase()?b(F(f),this[e],d):a.eval(f.innerHTML);else d!=t?this[e].insertBefore(g,this[e].firstChild):this[e].appendChild(g)}return this},appendTo:function(a){return F(a).append(this),this},prependTo:function(a){return F(a).append(this,!0),this},prepend:function(a){return this.append(a,1)},insertBefore:function(a,b){if(0===this.length)return this;if(a=F(a).get(0),!a)return this;for(var c=0;c<this.length;c++)b?a.parentNode.insertBefore(this[c],a.nextSibling):a.parentNode.insertBefore(this[c],a);return this},insertAfter:function(a){this.insertBefore(a,!0)},get:function(a){return a=a==t?0:a,0>a&&(a+=this.length),this[a]?this[a]:void 0},offset:function(){var b;return 0===this.length?this:this[0]==a?{left:0,top:0,right:0,bottom:0,width:a.innerWidth,height:a.innerHeight}:(b=this[0].getBoundingClientRect(),{left:b.left+a.pageXOffset,top:b.top+a.pageYOffset,right:b.right+a.pageXOffset,bottom:b.bottom+a.pageYOffset,width:b.right-b.left,height:b.bottom-b.top})},height:function(b){return 0===this.length?this:b!=t?this.css("height",b):this[0]==this[0].window?a.innerHeight:this[0].nodeType==this[0].DOCUMENT_NODE?this[0].documentElement.offsetHeight:(b=this.css("height").replace("px",""))?+b:this.offset().height},width:function(b){return 0===this.length?this:b!=t?this.css("width",b):this[0]==this[0].window?a.innerWidth:this[0].nodeType==this[0].DOCUMENT_NODE?this[0].documentElement.offsetWidth:(b=this.css("width").replace("px",""))?+b:this.offset().width},parent:function(a,b){if(0===this.length)return this;for(var c=[],e=0;e<this.length;e++)for(var f=this[e];f.parentNode&&f.parentNode!=u&&(c.push(f.parentNode),f.parentNode&&(f=f.parentNode),!!b););return this.setupOld(F(d(c)).filter(a))},parents:function(a){return this.parent(a,!0)},children:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)b=b.concat(e(this[c].firstChild));return this.setupOld(F(b).filter(a))},siblings:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)this[c].parentNode&&(b=b.concat(e(this[c].parentNode.firstChild,this[c])));return this.setupOld(F(b).filter(a))},contents:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++)this[c].parentNode&&g(this[c].childNodes,b);return this.setupOld(F(b).filter(a))},closest:function(a,b){if(0===this.length)return this;var c=this[0],d=F(a,b);if(0===d.length)return F();for(;c&&-1==d.indexOf(c);)c=c!==b&&c!==u&&c.parentNode;return F(c)},filter:function(a){if(0===this.length||a==t)return this;for(var b=[],c=0;c<this.length;c++){var e=this[c];e.parentNode&&0<=F(a,e.parentNode).indexOf(e)&&b.push(e)}return this.setupOld(F(d(b)))},not:function(a){if(0===this.length)return this;for(var b=[],c=0;c<this.length;c++){var e=this[c];e.parentNode&&-1==F(a,e.parentNode).indexOf(e)&&b.push(e)}return this.setupOld(F(d(b)))},data:function(a,b){var c;if(b)return this.attr("data-"+a,b);c=this.attr("data-"+a);try{c=F.parseJSON(c)}catch(d){}return c},end:function(){return this.oldElement!=t?this.oldElement:F()},clone:function(a){if(a=!1===a?!1:!0,0===this.length)return this;for(var b=[],c=0;c<this.length;c++)b.push(this[c].cloneNode(a));return F(b)},size:function(){return this.length},serialize:function(){if(0===this.length)return"";for(var a=[],b=0;b<this.length;b++)this.slice.call(this[b].elements).forEach(function(b){var c=b.getAttribute("type");if("fieldset"!=b.nodeName.toLowerCase()&&!b.disabled&&"submit"!=c&&"reset"!=c&&"button"!=c&&("radio"!=c&&"checkbox"!=c||b.checked)&&b.getAttribute("name"))if("select-multiple"==b.type)for(c=0;c<b.options.length;c++)b.options[c].selected&&a.push(b.getAttribute("name")+"="+encodeURIComponent(b.options[c].value));else a.push(b.getAttribute("name")+"="+encodeURIComponent(b.value))});return a.join("&")},eq:function(a){return F(this.get(a))},index:function(a){return a?this.indexOf(F(a)[0]):this.parent().children().indexOf(this[0])},is:function(a){return!!a&&0<this.filter(a).length}},F.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:void 0,timeout:0,crossDomain:null},F.jsonP=function(b){if(D)return b.type="get",b.dataType=null,F.get(b);var c,d="jsonp_callback"+ ++y,e="",f=u.createElement("script");return a[d]=function(c){clearTimeout(e),F(f).remove(),delete a[d],b.success.call(void 0,c)},-1!==b.url.indexOf("callback=?")?f.src=b.url.replace(/=\?/,"="+d):(c=b.jsonp?b.jsonp:"callback",b.url+=-1===b.url.indexOf("?")?"?"+c+"="+d:"&"+c+"="+d,f.src=b.url),b.error&&(f.onerror=function(){clearTimeout(e),b.error.call(void 0,"","error")}),F("head").append(f),0<b.timeout&&(e=setTimeout(function(){b.error.call(void 0,"","timeout")},b.timeout)),{}},F.ajax=function(b){var c;try{var d,e=b||{};for(d in F.ajaxSettings)"undefined"==typeof e[d]&&(e[d]=F.ajaxSettings[d]);if(e.url||(e.url=a.location),e.contentType||(e.contentType="application/x-www-form-urlencoded"),e.headers||(e.headers={}),"async"in e&&!1===e.async||(e.async=!0),F.isObject(e.data)&&(e.data=F.param(e.data)),"get"===e.type.toLowerCase()&&e.data&&(e.url+=-1===e.url.indexOf("?")?"?"+e.data:"&"+e.data),e.dataType)switch(e.dataType){case"script":e.dataType="text/javascript, application/javascript";break;case"json":e.dataType="application/json";break;case"xml":e.dataType="application/xml, text/xml";break;case"html":e.dataType="text/html";break;case"text":e.dataType="text/plain";break;case"jsonp":return F.jsonP(e);default:e.dataType="text/html"}else e.dataType="text/html";if(/=\?/.test(e.url))return F.jsonP(e);null===e.crossDomain&&(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!=a.location.host),e.crossDomain||(e.headers=F.extend({"X-Requested-With":"XMLHttpRequest"},e.headers));var f,g=e.context,i=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:a.location.protocol;c=new a.XMLHttpRequest,c.onreadystatechange=function(){var a=e.dataType;if(4===c.readyState){clearTimeout(f);var b,d=!1;if(200<=c.status&&300>c.status||0===c.status&&"file:"==i){if("application/json"!==a||/^\s*$/.test(c.responseText))"application/xml, text/xml"===a?b=c.responseXML:"text/html"==a?(b=c.responseText,F.parseJS(b)):b=c.responseText;else try{b=JSON.parse(c.responseText)}catch(h){d=h}0===c.status&&0===b.length&&(d=!0),d?e.error.call(g,c,"parsererror",d):e.success.call(g,b,"success",c)}else d=!0,e.error.call(g,c,"error");e.complete.call(g,c,d?"error":"success")}},c.open(e.type,e.url,e.async),e.withCredentials&&(c.withCredentials=!0),e.contentType&&(e.headers["Content-Type"]=e.contentType);for(var j in e.headers)"string"==typeof e.headers[j]&&c.setRequestHeader(j,e.headers[j]);if(!1===e.beforeSend.call(g,c,e))return c.abort(),!1;0<e.timeout&&(f=setTimeout(function(){c.onreadystatechange=h,c.abort(),e.error.call(g,c,"timeout")},e.timeout)),c.send(e.data)}catch(k){console.log(k),e.error.call(g,c,"error",k)}return c},F.get=function(a,b){return this.ajax({url:a,success:b})},F.post=function(a,b,c,d){return"function"==typeof b&&(c=b,b={}),d===t&&(d="html"),this.ajax({url:a,type:"POST",data:b,dataType:d,success:c})},F.getJSON=function(a,b,c){return"function"==typeof b&&(c=b,b={}),this.ajax({url:a,data:b,success:c,dataType:"json"})},F.param=function(a,b){var c=[];if(a instanceof E)a.each(function(){c.push((b?b+"["+this.id+"]":this.id)+"="+encodeURIComponent(this.value))});else for(var d in a)if(!F.isFunction(a[d])){var e=b?b+"["+d+"]":d,f=a[d];c.push(F.isObject(f)?F.param(f,e):e+"="+encodeURIComponent(f))}return c.join("&")},F.parseJSON=function(a){return JSON.parse(a)},F.parseXML=function(a){return D?void MSApp.execUnsafeLocalFunction(function(){return(new DOMParser).parseFromString(a,"text/xml")}):(new DOMParser).parseFromString(a,"text/xml")},i(F,navigator.userAgent),F.__detectUA=i,F.uuid=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},F.getCssMatrix=function(b){F.is$(b)&&(b=b.get(0));var c=a.WebKitCSSMatrix||a.MSCSSMatrix;return b===t?c?new c:{a:0,b:0,c:0,d:0,e:0,f:0}:(b=a.getComputedStyle(b),b=b.webkitTransform||b.transform||b[F.feat.cssPrefix+"Transform"],c?new c(b):b?(c=b.replace(/[^0-9\-.,]/g,"").split(","),{a:+c[0],b:+c[1],c:+c[2],d:+c[3],e:+c[4],f:+c[5]}):{a:0,b:0,c:0,d:0,e:0,f:0})},F.create=function(a,b){var c,d=new E;if(b||"<"!==a[0]){b.html&&(b.innerHTML=b.html,delete b.html),c=u.createElement(a);for(var e in b)c[e]=b[e];d[d.length++]=c}else c=u.createElement("div"),D?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=selector.trim()}):c.innerHTML=a,g(c.childNodes,d);return d},F.query=function(a,b){return a?(b=b||u,(new E).selector(a,b)):new E};var G={},H=1;F.event={add:n,remove:o},F.fn.bind=function(a,b){for(var c=0,d=this.length;d>c;c++)n(this[c],a,b);return this},F.fn.unbind=function(a,b){for(var c=0,d=this.length;d>c;c++)o(this[c],a,b);return this},F.fn.one=function(a,b){return this.each(function(c,d){n(this,a,b,null,function(a,b){return function(){return o(d,b,a),a.apply(d,arguments)}})})};var I=function(){return!0},J=function(){return!1},K={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};F.fn.delegate=function(a,b,c,d){F.isFunction(c)&&(d=c,c=null);for(var e=0,f=this.length;f>e;e++)q(this[e],b,d,a,c);return this},F.fn.undelegate=function(a,b,c){for(var d=0,e=this.length;e>d;d++)o(this[d],b,c,a);return this},F.fn.on=function(a,b,c,d){return F.isFunction(c)&&(d=c,c=null),b===t||F.isFunction(b)?this.bind(a,b):this.delegate(b,a,c,d)},F.fn.off=function(a,b,c){return b===t||F.isFunction(b)?this.unbind(a,b):this.undelegate(b,a,c)},F.fn.trigger=function(a,b,c){for("string"==typeof a&&(a=F.Event(a,c)),a.data=b,b=0,c=this.length;c>b;b++)this[b].dispatchEvent(a);return this},F.Event=function(a,b){var c=u.createEvent("Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null),c},F.bind=function(a,b,c){if(a){a.__events||(a.__events={}),F.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++)a.__events[b[d]]||(a.__events[b[d]]=[]),a.__events[b[d]].push(c)}},F.trigger=function(a,b,c){if(a){var d=!0;if(!a.__events)return d;F.isArray(b)||(b=[b]),F.isArray(c)||(c=[]);for(var e=0;e<b.length;e++)if(a.__events[b[e]])for(var f=a.__events[b[e]].slice(0),g=0;g<f.length;g++)F.isFunction(f[g])&&!1===f[g].apply(a,c)&&(d=!1);return d}},F.unbind=function(a,b,c){if(a.__events){F.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++)if(a.__events[b[d]])for(var e=a.__events[b[d]],f=0;f<e.length;f++)if(c==t&&delete e[f],e[f]==c){e.splice(f,1);break}}},F.proxy=function(a,b,c){return function(){return c?a.apply(b,c):a.apply(b,arguments)}};var L=function(a,b){for(var c=0;c<a.length;c++)s(a[c],b)};F.cleanUpContent=function(a,b,c){if(a){var d=a.childNodes;d&&0<d.length&&F.asap(L,{},[w.apply(d,[0]),c]),b&&r(a,c)}};var M=[],N=[],O=[];F.asap=function(b,c,d){if(!F.isFunction(b))throw"$.asap - argument is not a valid function";M.push(b),N.push(c?c:{}),O.push(d?d:[]),a.postMessage("afm-asap","*")},a.addEventListener("message",function(b){b.source==a&&"afm-asap"==b.data&&(b.stopPropagation(),0<M.length&&M.shift().apply(N.shift(),O.shift()))},!0);var P={};return F.parseJS=function(b){if(b){if("string"==typeof b){var c=u.createElement("div");D?MSApp.execUnsafeLocalFunction(function(){c.innerHTML=b}):c.innerHTML=b,b=c}var d=b.getElementsByTagName("script");b=null;for(var e=0;e<d.length;e++)if(0<d[e].src.length&&!P[d[e].src]&&!D){var f=u.createElement("script");f.type=d[e].type,f.src=d[e].src,u.getElementsByTagName("head")[0].appendChild(f),P[d[e].src]=1,f=null}else a.eval(d[e].innerHTML)}},"click keydown keyup keypress submit load resize change select error".split(" ").forEach(function(a){F.fn[a]=function(b){return b?this.bind(a,b):this.trigger(a)}}),["focus","blur"].forEach(function(a){F.fn[a]=function(b){if(0!==this.length){if(b)this.bind(a,b);else for(b=0;b<this.length;b++)try{this[b][a]()}catch(c){}return this}}}),F}(window);window.jq=af,"$"in window||(window.$=af),"function"==typeof define&&define.amd?define("appframework",[],function(){return af}):"undefined"!=typeof module&&module.exports&&(module.exports.af=af,module.exports.$=af),window.numOnly||(window.numOnly=function(a){if(void 0===a||""===a)return 0;if(isNaN(parseFloat(a))){if(!a.replace)return 0;a=a.replace(/[^0-9.-]/g,"")}return parseFloat(a)})}!function(a){var b=[],c=function(b){return b.afCSS3AnimateId||(b.afCSS3AnimateId=a.uuid()),b.afCSS3AnimateId},d=function(b){return"string"==typeof b||b instanceof String?document.getElementById(b):a.is$(b)?b[0]:b},e=function(a,e){var f,g,h=d(a);return g=c(h),b[g]?(b[g].animate(e),f=b[g]):(f=i(h,e),b[g]=f),f};a.fn.css3Animate=function(a){!a.complete&&a.callback&&(a.complete=a.callback);var b=e(this[0],a);a.complete=null,a.sucess=null,a.failure=null;for(var c=1;c<this.length;c++)b.link(this[c],a);return b},a.css3AnimateQueue=function(){return new i.queue};var f=a.feat.cssTransformStart,g=a.feat.cssTransformEnd,h=a.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";h=a.os.fennec||""===a.feat.cssPrefix||a.os.ie?"transitionend":h,h=h.replace(h.charAt(0),h.charAt(0).toLowerCase());var i=function(){var c=function(d,e){if(!(this instanceof c))return new c(d,e);if(this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.el=d,this.linkFinishedProxy_=a.proxy(this.linkFinished,this),this.el){this.animate(e);var f=this;af(this.el).bind("destroy",function(){var a=f.el.afCSS3AnimateId;f.callbacksStack=[],b[a]&&delete b[a]})}};return c.prototype={animate:function(b){if(this.isActive&&this.cancel(),this.isActive=!0,!b)return void alert("Please provide configuration options for animation of "+this.el.id);var c,d,e=!!b.addClass,i=numOnly(b.time);if(e)b.removeClass?af(this.el).replaceClass(b.removeClass,b.addClass):af(this.el).addClass(b.addClass);else{if(0===i&&(b.time=0),b.y||(b.y=0),b.x||(b.x=0),b.previous){var j=new a.getCssMatrix(this.el);b.y+=numOnly(j.f),b.x+=numOnly(j.e)}b.origin||(b.origin="0% 0%"),b.scale||(b.scale="1"),b.rotateY||(b.rotateY="0"),b.rotateX||(b.rotateX="0"),b.skewY||(b.skewY="0"),b.skewX||(b.skewX="0"),b.timingFunction||(b.timingFunction="linear"),("number"==typeof b.x||-1==b.x.indexOf("%")&&-1==b.x.toLowerCase().indexOf("px")&&-1==b.x.toLowerCase().indexOf("deg"))&&(b.x=parseInt(b.x,10)+"px"),("number"==typeof b.y||-1==b.y.indexOf("%")&&-1==b.y.toLowerCase().indexOf("px")&&-1==b.y.toLowerCase().indexOf("deg"))&&(b.y=parseInt(b.y,10)+"px");var k="translate"+f+b.x+","+b.y+g+" scale("+parseFloat(b.scale)+") rotate("+b.rotateX+")";a.os.opera||(k+=" rotateY("+b.rotateY+")"),k+=" skew("+b.skewX+","+b.skewY+")",this.el.style[a.feat.cssPrefix+"Transform"]=k,this.el.style[a.feat.cssPrefix+"BackfaceVisibility"]="hidden";var l=a.feat.cssPrefix+"Transform";void 0!==b.opacity&&(this.el.style.opacity=b.opacity,l+=", opacity"),b.width&&(this.el.style.width=b.width,l="all"),b.height&&(this.el.style.height=b.height,l="all"),this.el.style[a.feat.cssPrefix+"TransitionProperty"]="all",-1===(""+b.time).indexOf("s")?(c="ms",d=b.time+c):-1!==b.time.indexOf("ms")?(c="ms",d=b.time):(c="s",d=b.time+c),b.delay&&(this.el.style[a.feat.cssPrefix+"TransitionDelay"]=b.delay),this.el.style[a.feat.cssPrefix+"TransitionDuration"]=d,this.el.style[a.feat.cssPrefix+"TransitionTimingFunction"]=b.timingFunction,this.el.style[a.feat.cssPrefix+"TransformOrigin"]=b.origin}this.callbacksStack.push({complete:b.complete,success:b.success,failure:b.failure}),this.countStack++;var m,n=this,o=window.getComputedStyle(this.el);e&&(m=o[a.feat.cssPrefix+"TransitionDuration"],i=numOnly(m),b.time=i,-1!==m.indexOf("ms")?c="ms":(c="s",b.time*=1e3)),0===i||"ms"==c&&5>i||"none"==o.display?a.asap(a.proxy(this.finishAnimation,this,[!1])):(this.activeEvent=function(a){clearTimeout(n.timeout),n.finishAnimation(a),n.el.removeEventListener(h,n.activeEvent,!1)},n.timeout=setTimeout(this.activeEvent,numOnly(b.time)+50),this.el.addEventListener(h,this.activeEvent,!1))},addCallbackHook:function(a){return a&&this.callbacksStack.push(a),this.countStack++,this.linkFinishedProxy_},linkFinished:function(a){a?this.cancel():this.finishAnimation()},finishAnimation:function(a){a&&a.preventDefault&&a.preventDefault(),this.isActive&&(this.countStack--,0===this.countStack&&this.fireCallbacks(!1))},fireCallbacks:function(a){this.clearEvents();var b=this.callbacksStack;this.cleanup();for(var c=0;c<b.length;c++){var d=b[c].complete,e=b[c].success,f=b[c].failure;d&&"function"==typeof d&&d(a),a&&f&&"function"==typeof f?f():e&&"function"==typeof e&&e()}},cancel:function(){this.isActive&&this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.el.removeEventListener(h,this.activeEvent,!1),this.activeEvent=null},link:function(a,b){var c={complete:b.complete,success:b.success,failure:b.failure};return b.complete=this.addCallbackHook(c),b.success=null,b.failure=null,e(a,b),b.complete=c.complete,b.success=c.success,b.failure=c.failure,this}},c}();i.queue=function(){return{elements:[],push:function(a){this.elements.push(a)},pop:function(){return this.elements.pop()},run:function(){var a=this;if(0!==this.elements.length){if("function"==typeof this.elements[0]){var b=this.shift();b()}if(0!==this.elements.length){var c=this.shift();this.elements.length>0&&(c.complete=function(b){b||a.run()}),i(document.getElementById(c.id),c)}}},shift:function(){return this.elements.shift()}}}}(af),function(a){function b(a){return e[a].el?!0:(delete e[a],!1)}function c(){if(af.os.android&&!af.os.chrome&&af.os.webkit){var c=!1;a.bind(a.touchLayer,["cancel-enter-edit","exit-edit"],function(){if(c){c=!1;for(var a in e)b(a)&&e[a].androidFormsMode&&e[a].stopFormsMode()}})}g=!0}var d=325,e=[],f=function(b){return b.afScrollerId||(b.afScrollerId=a.uuid()),b.afScrollerId};a.fn.scroller=function(b){for(var c,d,g=0;g<this.length;g++)d=f(this[g]),e[d]?c=e[d]:(b||(b={}),a.feat.nativeTouchScroll||(b.useJsScroll=!0),c=h(this[g],b),e[d]=c);return 1==this.length?c:this};var g=!1,h=function(){function b(b,c){var d=document.createElement("div");return d.style.position="absolute",d.style.width=b+"px",d.style.height=c+"px",d.style[a.feat.cssPrefix+"BorderRadius"]="2px",d.style.borderRadius="2px",d.style.display="none",d.className="scrollBar",d.style.background="black",d}var f,h,i=a.feat.cssTransformStart,j=a.feat.cssTransformEnd,k=function(b,d){var e;return!g&&a.touchLayer&&a.isObject(a.touchLayer)?c():a.touchLayer&&a.isObject(a.touchLayer)||(a.touchLayer={}),e="string"==typeof b||b instanceof String?document.getElementById(b):b,e?af.os.desktop?new l(e,d):d.useJsScroll?new f(e,d):new h(e,d):void alert("Could not find element for scroller "+b)},l=function(b,c){this.el=b,this.afEl=a(this.el);for(var d in c)this[d]=c[d]};return l.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,bubbles:!0,lockBounce:!1,_scrollTo:function(a,b){if(b=parseInt(b,10),0===b||isNaN(b))return this.el.scrollTop=Math.abs(a.y),void(this.el.scrollLeft=Math.abs(a.x));var c=10,d=(this.el.scrollTop-a.y)/Math.ceil(b/c),e=(this.el.scrollLeft-a.x)/Math.ceil(b/c),f=this,g=Math.ceil(this.el.scrollTop-a.y)/d,h=Math.ceil(this.el.scrollLeft-a.x)/d,i=0,j=0;
f.scrollTopInterval=window.setInterval(function(){f.el.scrollTop-=d,j++,j>=g&&(f.el.scrollTop=a.y,clearInterval(f.scrollTopInterval))},c),f.scrollLeftInterval=window.setInterval(function(){f.el.scrollLeft-=e,i++,i>=h&&(f.el.scrollLeft=a.x,clearInterval(f.scrollLeftInterval))},c)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(a){this._scrollTo({x:0,y:0},a)},_scrollToBottom:function(a){this._scrollTo({x:0,y:this.el.scrollHeight-this.el.offsetHeight},a)},scrollToBottom:function(a){return this._scrollToBottom(a)},scrollToTop:function(a){return this._scrollToTop(a)},init:function(b,c){this.el=b,this.afEl=a(this.el),this.defaultProperties();for(var d in c)this[d]=c[d];var f=this,g=function(){f.eventsActive&&!a.feat.nativeTouchScroll&&f.adjustScroll()};this.afEl.bind("destroy",function(){f.disable(!0);var b=f.el.afScrollerId;e[b]&&delete e[b],a.unbind(a.touchLayer,"orientationchange-reshape",g)}),a.bind(a.touchLayer,"orientationchange-reshape",g),a(window).bind("resize",g)},needsFormsFix:function(b){return this.useJsScroll&&this.isEnabled()&&"none"!=this.el.style.display&&a(b).closest(this.afEl).size()>0},handleEvent:function(a){if(!this.scrollingLocked)switch(a.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(a),this.bubbles||a.stopPropagation();break;case"touchmove":this.onTouchMove(a),this.bubbles||a.stopPropagation();break;case"touchend":this.onTouchEnd(a),this.bubbles||a.stopPropagation();break;case"scroll":this.onScroll(a)}},coreAddPullToRefresh:function(b){b&&(this.refreshElement=b);var c;if(null===this.refreshElement){var d=document.getElementById(this.container.id+"_pulldown");c=af(null!==d?d:"<div id='"+this.container.id+"_pulldown' class='afscroll_refresh' style='position:relative;height:60px;text-align:center;line-height:60px;font-weight:bold;'>"+this.refreshContent+"</div>")}else c=af(this.refreshElement);var e=c.get(0);this.refreshContainer=af('<div style="overflow:hidden;height:0;width:100%;display:none;"></div>'),a(this.el).prepend(this.refreshContainer.prepend(e)),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(b){if(this.refresh&&b){this.setRefreshContent("Refreshing...");var c=a.trigger(this,"refresh-release",[b])!==!1;if(this.preventHideRefresh=!1,this.refreshRunning=!0,c){var d=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){d.hideRefresh()},this.refreshHangTimeout))}}},setRefreshContent:function(a){af(this.container).find(".afscroll_refresh").html(a)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive&&this.disable())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive&&this.enable())},scrollToItem:function(b,c){a.is$(b)||(b=a(b));var d,e,f,g;"bottom"==c?(e=b.offset(),d=e.top-this.afEl.offset().bottom+e.height,d+=4):(g=b.offset().top,d=g-document.body.scrollTop,f=this.afEl.offset().top,document.body.scrollTop<f&&(d-=f),d-=4),this.scrollBy({y:d,x:0},0)},setPaddings:function(b,c){var d=a(this.el),e=numOnly(d.css("paddingTop"));d.css("paddingTop",b+"px").css("paddingBottom",c+"px"),this.scrollBy({y:b-e,x:0})},divide:function(a,b){return 0!==b?a/b:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0},scrollTo:function(a,b){return this._scrollTo(a,b)}},f=function(c,d){this.init(c,d),this.container=this.el.parentNode,this.container.afScrollerId=c.afScrollerId,this.afEl=a(this.container),"hidden"!=this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0);var e;this.verticalScroll&&this.verticalScroll===!0&&this.scrollBars===!0&&(e=b(5,20),e.style.top="0px",this.vScrollCSS&&(e.className=this.vScrollCSS),e.style.display="none",this.container.appendChild(e),this.vscrollBar=e,e=null),this.horizontalScroll&&this.horizontalScroll===!0&&this.scrollBars===!0&&(e=b(20,5),e.style.bottom="0px",this.hScrollCSS&&(e.className=this.hScrollCSS),e.style.display="none",this.container.appendChild(e),this.hscrollBar=e,e=null),this.horizontalScroll&&(this.el.style["float"]="left"),this.el.hasScroller=!0},h=function(b,c){c.nativeParent&&(b=b.parentNode),this.init(b,c);var d=a(b);if(c.noParent!==!0){var e=d.parent();d.css("height",e.height()).css("width",e.width()),d.insertBefore(d.parent()),e.remove()}this.container=this.el,d.css("-webkit-overflow-scrolling","touch"),c.autoEnable&&this.enable()},h.prototype=new l,f.prototype=new l,h.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.dX=this.cX=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0;var a=this;this.adjustScrollOverflowProxy_=function(){a.afEl.css("overflow","auto"),a.afEl.parent().css("overflow","hidden")}},h.prototype.enable=function(a){this.eventsActive||(this.eventsActive=!0,this.el.style.overflow="auto",this.el.parentNode.style.overflow="hidden",a||this.adjustScroll(),this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("scroll",this,!1))},h.prototype.disable=function(b){this.eventsActive&&(this.logPos(this.el.scrollLeft,this.el.scrollTop),b||a.ui||(this.el.style.overflow="hidden"),this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("scroll",this,!1),this.eventsActive=!1)},h.prototype.addPullToRefresh=function(a,b){this.el.removeEventListener("touchstart",this,!1),this.el.addEventListener("touchstart",this,!1),b||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(a),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},h.prototype.onTouchStart=function(a){0===this.el.scrollTop&&(this.el.scrollTop=1),this.el.scrollTop===this.el.scrollHeight-this.el.clientHeight&&(this.el.scrollTop-=1),this.horizontalScroll&&(0===this.el.scrollLeft&&(this.el.scrollLeft=1),this.el.scrollLeft===this.el.scrollWidth-this.el.clientWidth&&(this.el.scrollLeft-=1)),this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.el.addEventListener("touchmove",this,!1),this.dY=a.touches[0].pageY,(this.refresh||this.infinite)&&this.refresh&&this.dY<0&&this.showRefresh()},h.prototype.onTouchMove=function(b){var c=b.touches[0].pageY-this.dY,d=b.touches[0].pageX-this.dX;this.hasVertScroll&&this.el.clientHeight==this.el.scrollHeight&&b.preventDefault(),this.hasHorScroll&&this.el.clientWidth==this.el.scrollWidth&&b.preventDefault(),this.moved||(a.trigger(this,"scrollstart",[this.el]),a.trigger(a.touchLayer,"scrollstart",[this.el]),this.el.addEventListener("touchend",this,!1),this.moved=!0);c-this.cY,d-this.cX;this.refresh&&this.el.scrollTop<-this.refreshHeight?this.showRefresh():this.refresh&&this.refreshTriggered&&this.refreshRunning&&this.el.scrollTop>this.refreshHeight?(this.refreshTriggered=!1,this.refreshRunning=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),this.setRefreshContent("Pull to Refresh"),a.trigger(this,"refresh-cancel")):this.refresh&&this.refreshTriggered&&!this.refreshRunning&&this.el.scrollTop>-this.refreshHeight&&(this.refreshTriggered=!1,this.refreshRunning=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),this.setRefreshContent("Pull to Refresh"),a.trigger(this,"refresh-cancel")),this.cY=c,this.cX=d},h.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,this.setRefreshContent("Release to Refresh"),a.trigger(this,"refresh-trigger"))},h.prototype.onTouchEnd=function(){var b=this.el.scrollTop<=-this.refreshHeight;this.fireRefreshRelease(b,!0),b&&this.refresh&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,a.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var c=200,d=this,e={top:this.el.scrollTop,left:this.el.scrollLeft},f=0;d.nativePolling=setInterval(function(){return f++,f>=c?void clearInterval(d.nativePolling):void((d.el.scrollTop!=e.top||d.el.scrollLeft!=e.left)&&(clearInterval(d.nativePolling),a.trigger(a.touchLayer,"scrollend",[d.el]),a.trigger(d,"scrollend",[d.el])))},20)},h.prototype.hideRefresh=function(b){if(!this.preventHideRefresh){var c=this,e=function(b){c.refreshContainer.style.top="-60px",c.refreshContainer.style.position="absolute",c.dY=c.cY=0,b||(c.el.style[a.feat.cssPrefix+"Transform"]="none",c.el.style[a.feat.cssPrefix+"TransitionProperty"]="none",c.el.scrollTop=0,c.logPos(c.el.scrollLeft,0),c.refreshRunning=!1,c.setRefreshContent("Pull to Refresh"),a.trigger(c,"refresh-finish"))};b!==!1&&c.afEl.css3Animate?c.afEl.css3Animate({y:c.el.scrollTop-c.refreshHeight+"px",x:"0%",time:d+"ms",complete:e}):e(),this.refreshTriggered=!1}},h.prototype.hideScrollbars=function(){},h.prototype.scrollTo=function(a,b){return this.logPos(a.x,a.y),a.x*=-1,a.y*=-1,this._scrollTo(a,b)},h.prototype.scrollBy=function(a,b){return a.x+=this.el.scrollLeft,a.y+=this.el.scrollTop,this.logPos(this.el.scrollLeft,this.el.scrollTop),this._scrollTo(a,b)},h.prototype.scrollToBottom=function(a){this._scrollToBottom(a),this.logPos(this.el.scrollLeft,this.el.scrollTop)},h.prototype.onScroll=function(){if(this.infinite&&this.touchEndFired)return void(this.touchEndFired=!1);if(this.scrollSkip)return void(this.scrollSkip=!1);this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,a.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var b=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,a.trigger(b,"infinite-scroll-end"))},h.prototype.logPos=function(a,b){this.loggedPcentX=this.divide(a,this.el.scrollWidth),this.loggedPcentY=this.divide(b,this.el.scrollHeight),this.scrollLeft=a,this.scrollTop=b,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},h.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.el.scrollLeft=this.loggedPcentX*this.el.scrollWidth,this.el.scrollTop=this.loggedPcentY*this.el.scrollHeight,this.logPos(this.el.scrollLeft,this.el.scrollTop)},f.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0},f.prototype.enable=function(a){this.eventsActive||(this.eventsActive=!0,a?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},f.prototype.adjustScroll=function(){var a=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.el.clientWidth-a.w)),y:Math.round(this.loggedPcentY*(this.el.clientHeight-a.h))},0)},f.prototype.disable=function(){if(this.eventsActive){var a=this.getCSSMatrix(this.el);this.logPos(numOnly(a.e)-numOnly(this.container.scrollLeft),numOnly(a.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},f.prototype.addPullToRefresh=function(a,b){b||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(a),this.el.style.overflow="visible")},f.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.display="none",this.hscrollBar.style[a.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.display="none",this.vscrollBar.style[a.feat.cssPrefix+"TransitionDuration"]="0ms")},f.prototype.getViewportSize=function(){var a=window.getComputedStyle(this.container);return isNaN(numOnly(a.paddingTop))&&alert(typeof a.paddingTop+"::"+a.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(a.paddingTop)-numOnly(a.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(a.paddingLeft)-numOnly(a.paddingRight)}},f.prototype.onTouchStart=function(b){if(this.moved=!1,this.currentScrollingObject=null,this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1==b.touches.length&&!this.boolScrollLock)){if(b.touches[0].target&&void 0!==b.touches[0].target.type){{var c=b.touches[0].target.tagName.toLowerCase();b.touches[0].target.type.toLowerCase()}if("select"==c)return}var d={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var e=this.getViewportSize();this.elementInfo.bottomMargin=e.h,this.elementInfo.maxTop=this.el.clientHeight-this.elementInfo.bottomMargin,this.elementInfo.maxTop<0&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.el.clientHeight,this.elementInfo.rightMargin=e.w,this.elementInfo.maxLeft=this.el.clientWidth-this.elementInfo.rightMargin,this.elementInfo.maxLeft<0&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.el.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(b),this.saveFirstEventInfo(b);var f=this.getCSSMatrix(this.el);d.top=numOnly(f.f)-numOnly(this.container.scrollTop),d.left=numOnly(f.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.el,this.refresh&&0===d.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):d.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),d.x=d.left,d.y=d.top,this.setVScrollBar(d,0,0)&&(this.vscrollBar.style.right=this.container.clientWidth>window.innerWidth?"0px":"0px",this.vscrollBar.style[a.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(d,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[a.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=d,this.hasMoved=!1,0==this.elementInfo.maxTop&&0==this.elementInfo.maxLeft?(this.currentScrollingObject=null,this.scrollToTop(0)):this.scrollerMoveCSS(this.lastScrollInfo,0)}},f.prototype.getCSSMatrix=function(b){if(this.androidFormsMode){var c=parseInt(b.style.marginTop,10),d=parseInt(b.style.marginLeft,10);return isNaN(c)&&(c=0),isNaN(d)&&(d=0),{f:c,e:d}}var e=a.getCssMatrix(b);return e},f.prototype.saveEventInfo=function(a){this.lastEventInfo={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,time:a.timeStamp}},f.prototype.saveFirstEventInfo=function(a){this.firstEventInfo={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,time:a.timeStamp}},f.prototype.setVScrollBar=function(a,b,c){if(!this.elementInfo.requiresVScrollBar)return!1;var d=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";numOnly(d)>this.elementInfo.bottomMargin&&(d=this.elementInfo.bottomMargin+"px"),d!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=d);var e=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+a.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return e>this.elementInfo.bottomMargin&&(e=this.elementInfo.bottomMargin),0>e&&(e=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:e},b,c),!0},f.prototype.setHScrollBar=function(a,b,c){if(!this.elementInfo.requiresHScrollBar)return!1;var d=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";d!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=d);var e=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+a.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return e>this.elementInfo.rightMargin&&(e=this.elementInfo.rightMargin),0>e&&(e=0),this.scrollbarMoveCSS(this.hscrollBar,{x:e,y:0},b,c),!0},f.prototype.onTouchMove=function(b){if(null!==this.currentScrollingObject){var c=this.calculateMovement(b);this.calculateTarget(c),this.lastScrollInfo=c,this.moved||(a.trigger(this,"scrollstart"),a.trigger(a.touchLayer,"scrollstart",[this.el]),this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.display="block"),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.display="block")),this.moved=!0,this.refresh&&0===c.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):c.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(b),this.isScrolling===!1&&(this.isScrolling=!0,this.onScrollStart&&this.onScrollStart());var d=this.getCSSMatrix(this.el);this.lastScrollInfo.top=numOnly(d.f),this.lastScrollInfo.left=numOnly(d.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var e=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,f=this.lastScrollInfo.y<-this.elementInfo.maxTop&&this.lastScrollInfo.deltaY<0;if(e||f){var g=e?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,h=(this.container.clientHeight-g)/this.container.clientHeight;.5>h&&(h=.5);var i=0;e&&this.lastScrollInfo.top>0||f&&this.lastScrollInfo.top<-this.elementInfo.maxTop?i=this.lastScrollInfo.top:f&&(i=-this.elementInfo.maxTop);var j=this.lastScrollInfo.deltaY*h,k=Math.abs(this.lastScrollInfo.deltaY*h);1>k&&(j=e?1:-1),this.lastScrollInfo.y=i+j}if(this.elementInfo.hasHorScroll&&(e=this.lastScrollInfo.x>0&&this.lastScrollInfo.deltaX>0,f=this.lastScrollInfo.x<-this.elementInfo.maxLeft&&this.lastScrollInfo.deltaX<0,e||f)){var g=e?this.lastScrollInfo.x:-this.lastScrollInfo.x-this.elementInfo.maxLeft,h=(this.container.clientWidth-g)/this.container.clientWidth;.5>h&&(h=.5);var i=0;e&&this.lastScrollInfo.left>0||f&&this.lastScrollInfo.left<-this.elementInfo.maxLeft?i=this.lastScrollInfo.left:f&&(i=-this.elementInfo.maxLeft);var l=this.lastScrollInfo.deltaX*h,m=Math.abs(this.lastScrollInfo.deltaX*h);1>m&&(l=e?1:-1),this.lastScrollInfo.x=i+l}this.lockBounce&&(this.lastScrollInfo.x>0?this.lastScrollInfo.x=0:-1*this.lastScrollInfo.x>this.elementInfo.maxLeft&&(this.lastScrollInfo.x=-1*this.elementInfo.maxLeft),this.lastScrollInfo.y>0?this.lastScrollInfo.y=0:-1*this.lastScrollInfo.y>this.elementInfo.maxTop&&(this.lastScrollInfo.y=-1*this.elementInfo.maxTop)),this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,this.setRefreshContent("Release to Refresh"),a.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,this.setRefreshContent("Pull to Refresh"),a.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,a.trigger(this,"infinite-scroll"))}},f.prototype.calculateMovement=function(a,b){var c={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},d=b?this.firstEventInfo:this.lastEventInfo,e=b?a.pageX:a.touches[0].pageX,f=b?a.pageY:a.touches[0].pageY,g=b?a.time:a.timeStamp;return c.deltaY=this.elementInfo.hasVertScroll?f-d.pageY:0,c.deltaX=this.elementInfo.hasHorScroll?e-d.pageX:0,c.time=g,c.duration=g-d.time,c},f.prototype.calculateTarget=function(a){a.y=this.lastScrollInfo.y+a.deltaY,a.x=this.lastScrollInfo.x+a.deltaX},f.prototype.checkYboundary=function(a){var b=this.container.clientHeight/2,c=this.elementInfo.maxTop+b;if(a.y>b)a.y=b;else{if(!(-a.y>c))return;a.y=-c}this.recalculateDeltaY(a)},f.prototype.checkXboundary=function(a){var b=this.container.clientWidth/2,c=this.elementInfo.maxLeft+b;if(a.x>b)a.x=b;else{if(!(-a.x>c))return;a.x=-c}this.recalculateDeltaX(a)},f.prototype.recalculateDeltaY=function(a){var b=Math.abs(a.deltaY);a.deltaY=a.y-a.top,newAbsDeltaY=Math.abs(a.deltaY),a.duration=a.duration*newAbsDeltaY/b},f.prototype.recalculateDeltaX=function(a){var b=Math.abs(a.deltaX);a.deltaX=a.x-a.left,newAbsDeltaX=Math.abs(a.deltaX),a.duration=a.duration*newAbsDeltaX/b},f.prototype.hideRefresh=function(b){if(!this.preventHideRefresh){var c=this,e=function(){c.setRefreshContent("Pull to Refresh"),a.trigger(c,"refresh-finish")};this.scrollerMoveCSS({x:0,y:0},d),b!==!1&&c.afEl.css3Animate?c.afEl.css3Animate({time:d+"ms",complete:e}):e(),this.refreshTriggered=!1}},f.prototype.setMomentum=function(a){var b=.0012;a.speedY=this.divide(a.deltaY,a.duration),a.speedX=this.divide(a.deltaX,a.duration),a.absSpeedY=Math.abs(a.speedY),a.absSpeedX=Math.abs(a.speedX),a.absDeltaY=Math.abs(a.deltaY),a.absDeltaX=Math.abs(a.deltaX),a.absDeltaY>0?(a.deltaY=(a.deltaY<0?-1:1)*a.absSpeedY*a.absSpeedY/(2*b),a.absDeltaY=Math.abs(a.deltaY),a.duration=a.absSpeedY/b,a.speedY=a.deltaY/a.duration,a.absSpeedY=Math.abs(a.speedY),(a.absSpeedY<100*b||a.absDeltaY<5)&&(a.deltaY=a.absDeltaY=a.duration=a.speedY=a.absSpeedY=0)):a.absDeltaX?(a.deltaX=(a.deltaX<0?-1:1)*a.absSpeedX*a.absSpeedX/(2*b),a.absDeltaX=Math.abs(a.deltaX),a.duration=a.absSpeedX/b,a.speedX=a.deltaX/a.duration,a.absSpeedX=Math.abs(a.speedX),(a.absSpeedX<100*b||a.absDeltaX<5)&&(a.deltaX=a.absDeltaX=a.duration=a.speedX=a.absSpeedX=0)):a.duration=0},f.prototype.onTouchEnd=function(){if(null!==this.currentScrollingObject&&this.moved){this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var b=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(b),this.calculateTarget(b);var c=this.getCSSMatrix(this.el);b.top=numOnly(c.f),b.left=numOnly(c.e),this.checkYboundary(b),this.elementInfo.hasHorScroll&&this.checkXboundary(b);var e=!this.preventPullToRefresh&&(b.top>this.refreshHeight||b.y>this.refreshHeight);this.fireRefreshRelease(e,b.top>0),this.refresh&&e?(b.y=this.refreshHeight,b.duration=d):b.y>=0?(b.y=0,b.top>=0&&(b.duration=d)):(-b.y>this.elementInfo.maxTop||0===this.elementInfo.maxTop)&&(b.y=-this.elementInfo.maxTop,-b.top>this.elementInfo.maxTop&&(b.duration=d)),this.elementInfo.hasHorScroll&&(b.x>=0?(b.x=0,b.left>=0&&(b.duration=d)):(-b.x>this.elementInfo.maxLeft||0===this.elementInfo.maxLeft)&&(b.x=-this.elementInfo.maxLeft,-b.left>this.elementInfo.maxLeft&&(b.duration=d))),this.androidFormsMode&&(b.duration=0),this.scrollerMoveCSS(b,b.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(b,b.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(b,b.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(b.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(b.y)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,a.trigger(this,"infinite-scroll"))}},f.prototype.setFinishCalback=function(b){var c=this;this.scrollingFinishCB=setTimeout(function(){c.hideScrollbars(),a.trigger(a.touchLayer,"scrollend",[c.el]),a.trigger(c,"scrollend",[c.el]),c.isScrolling=!1,c.elementInfo=null,c.infinite&&a.trigger(c,"infinite-scroll-end")},b)},f.prototype.startFormsMode=function(){if(!this.blockFormsFix){var b=this.getCSSMatrix(this.el);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.el.style[a.feat.cssPrefix+"Transform"]="none",this.el.style[a.feat.cssPrefix+"Transition"]="none",this.el.style[a.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(b.e),y:numOnly(b.f)},0),this.container.style[a.feat.cssPrefix+"Perspective"]="none",this.container.style[a.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[a.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[a.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[a.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[a.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[a.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[a.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[a.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[a.feat.cssPrefix+"BackfaceVisibility"]="visible")}},f.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var b=this.getCSSMatrix(this.el);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.el.style[a.feat.cssPrefix+"Perspective"]=1e3,this.el.style.marginTop=0,this.el.style.marginLeft=0,this.el.style[a.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(b.e),y:numOnly(b.f)},0),this.container.style[a.feat.cssPrefix+"Perspective"]=1e3,this.container.style[a.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[a.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[a.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[a.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[a.feat.cssPrefix+"BackfaceVisibility"]="hidden")}},f.prototype.scrollerMoveCSS=function(b,c,d){c||(c=0),d||(d="linear"),c=numOnly(c),this.el&&this.el.style&&(this.eventsActive&&(this.androidFormsMode?(this.el.style.marginTop=Math.round(b.y)+"px",this.el.style.marginLeft=Math.round(b.x)+"px"):(this.el.style[a.feat.cssPrefix+"Transform"]="translate"+i+b.x+"px,"+b.y+"px"+j,this.el.style[a.feat.cssPrefix+"TransitionDuration"]=c+"ms",this.el.style[a.feat.cssPrefix+"TransitionTimingFunction"]=d)),this.logPos(b.x,b.y))},f.prototype.logPos=function(a,b){var c;c=this.elementInfo?{h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin}:this.getViewportSize(),this.loggedPcentX=this.divide(a,this.el.clientWidth-c.w),this.loggedPcentY=this.divide(b,this.el.clientHeight-c.h),this.scrollTop=b,this.scrollLeft=a},f.prototype.scrollbarMoveCSS=function(b,c,d,e){d||(d=0),e||(e="linear"),b&&b.style&&(this.androidFormsMode?(b.style.marginTop=Math.round(c.y)+"px",b.style.marginLeft=Math.round(c.x)+"px"):(b.style[a.feat.cssPrefix+"Transform"]="translate"+i+c.x+"px,"+c.y+"px"+j,b.style[a.feat.cssPrefix+"TransitionDuration"]=d+"ms",b.style[a.feat.cssPrefix+"TransitionTimingFunction"]=e))},f.prototype.scrollTo=function(a,b){b||(b=0),this.scrollerMoveCSS(a,b)},f.prototype.scrollBy=function(a,b){var c=this.getCSSMatrix(this.el),d=numOnly(c.f),e=numOnly(c.e);this.scrollTo({y:d-a.y,x:e-a.x},b)},f.prototype.scrollToBottom=function(a){this.scrollTo({y:-1*(this.el.clientHeight-this.container.clientHeight),x:0},a)},f.prototype.scrollToTop=function(a){this.scrollTo({x:0,y:0},a)},k}()}(af),function(a){a.fn.popup=function(a){return new c(this[0],a)};var b=[],c=function(){var c=function(c,d){if(this.container="string"==typeof c||c instanceof String?document.getElementById(c):c,!this.container)return void alert("Error finding container for popup "+c);try{("string"==typeof d||"number"==typeof d)&&(d={message:d,cancelOnly:"true",cancelText:"OK"}),this.id=id=d.id=d.id||a.uuid();this.addCssClass=d.addCssClass?d.addCssClass:"",this.title=d.suppressTitle?"":d.title||"Alert",this.message=d.message||"",this.cancelText=d.cancelText||"Cancel",this.cancelCallback=d.cancelCallback||function(){},this.cancelClass=d.cancelClass||"button",this.doneText=d.doneText||"Done",this.doneCallback=d.doneCallback||function(){},this.doneClass=d.doneClass||"button",this.cancelOnly=d.cancelOnly||!1,this.onShow=d.onShow||function(){},this.autoCloseDone=void 0!==d.autoCloseDone?d.autoCloseDone:!0,b.push(this),1==b.length&&this.show()}catch(e){console.log("error adding popup "+e)}};return c.prototype={id:null,addCssClass:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var b=this,c='<div id="'+this.id+'" class="afPopup hidden '+this.addCssClass+'"><header>'+this.title+"</header><div>"+this.message+'</div><footer style="clear:both;"><a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+'</a><a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a> </footer></div></div>";a(this.container).append(a(c));var d=a.query("#"+this.id);d.bind("close",function(){b.hide()}),this.cancelOnly&&(d.find("A#action").hide(),d.find("A#cancel").addClass("center")),d.find("A").each(function(){var c=a(this);c.bind("click",function(a){"cancel"==c.attr("id")?(b.cancelCallback.call(b.cancelCallback,b),b.hide()):(b.doneCallback.call(b.doneCallback,b),b.autoCloseDone&&b.hide()),a.preventDefault()})}),b.positionPopup(),a.blockUI(.5),d.bind("orientationchange",function(){b.positionPopup()}),d.find("header").show(),d.find("footer").show(),setTimeout(function(){d.removeClass("hidden"),b.onShow(b)},50)},hide:function(){var b=this;a.query("#"+b.id).addClass("hidden"),a.unblockUI(),a.os.ie||a.os.android?b.remove():setTimeout(function(){b.remove()},250)},remove:function(){var c=this,d=a.query("#"+c.id);d.unbind("close"),d.find("BUTTON#action").unbind("click"),d.find("BUTTON#cancel").unbind("click"),d.unbind("orientationchange").remove(),b.splice(0,1),b.length>0&&b[0].show()},positionPopup:function(){var b=a.query("#"+this.id);b.css("top",window.innerHeight/2.5+window.pageYOffset-b[0].clientHeight/2+"px"),b.css("left",window.innerWidth/2-b[0].clientWidth/2+"px")}},c}(),d=!1;a.blockUI=function(b){d||(b=b?" style='opacity:"+b+";'":"",a.query("BODY").prepend(a("<div id='mask'"+b+"></div>")),a.query("BODY DIV#mask").bind("touchstart",function(a){a.preventDefault()}),a.query("BODY DIV#mask").bind("touchmove",function(a){a.preventDefault()}),d=!0)},a.unblockUI=function(){d=!1,a.query("BODY DIV#mask").unbind("touchstart"),a.query("BODY DIV#mask").unbind("touchmove"),a("BODY DIV#mask").remove()}}(af),function(a){a.fn.actionsheet=function(a){for(var c,d=0;d<this.length;d++)c=new b(this[d],a);return 1==this.length?c:this};var b=function(){var b=function(c,d){if(this.el="string"==typeof c||c instanceof String?document.getElementById(c):c,!this.el)return void alert("Could not find element for actionsheet "+c);if(!(this instanceof b))return new b(c,d);
if("object"==typeof d)for(var e in d)this[e]=d[e];var f,g=this,h='<div id="af_actionsheet"><div style="width:100%">',i="</div></div>";if("string"==typeof d)f=a(h+d+"<a href='javascript:;' class='cancel'>Cancel</a>"+i);else if("object"==typeof d){f=a(h+i);var j=a(f.children().get(0));d.push({text:"Cancel",cssClasses:"cancel"});for(var k=0;k<d.length;k++){var l=a('<a href="javascript:;" >'+(d[k].text||"TEXT NOT ENTERED")+"</a>");l[0].onclick=d[k].handler||function(){},d[k].cssClasses&&d[k].cssClasses.length>0&&l.addClass(d[k].cssClasses),j.append(l)}}a(c).find("#af_actionsheet").remove(),a(c).find("#af_action_mask").remove(),actionsheetEl=a(c).append(f),f.vendorCss("Transition","all 0ms"),f.cssTranslate("0,0"),f.css("top",window.innerHeight+"px"),this.el.style.overflow="hidden",f.on("click","a",function(){return g.hideSheet(),!1}),this.activeSheet=f,a(c).append('<div id="af_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){f.vendorCss("Transition","all 300ms"),f.cssTranslate("0,"+-f.height()+"px")},10)};return b.prototype={activeSheet:null,hideSheet:function(){var b=this;this.activeSheet.off("click","a",function(){b.hideSheet()}),a(this.el).find("#af_action_mask").remove(),this.activeSheet.vendorCss("Transition","all 0ms");var c=this.activeSheet,d=this.el;setTimeout(function(){c.vendorCss("Transition","all 300ms"),c.cssTranslate("0,0px"),setTimeout(function(){c.remove(),c=null,d.style.overflow="none"},500)},10)}},b}()}(af),function(a){a.passwordBox=function(){return new b};var b=function(){this.oldPasswords={}};b.prototype={showPasswordPlainText:!1,getOldPasswords:function(b){var c=b&&document.getElementById(b)?document.getElementById(b):document;if(!c)return void alert("Could not find container element for passwordBox "+b);for(var d=c.getElementsByTagName("input"),e=0;e<d.length;e++)"password"==d[e].type&&a.os.webkit&&(d[e].type="text",a(d[e]).vendorCss("TextSecurity","disc"))},changePasswordVisiblity:function(b,c){b=parseInt(b,10);var d=document.getElementById(c);1==b?a(d).vendorCss("TextSecurity","none"):a(d).vendorCss("TextSecurity","disc"),a.os.webkit||(d.type=1==b?"text":"password"),d=null}}}(af),function(a){function b(b,c,d){return d===!0&&(this.getAttribute("multiple")||a.selectBox.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),d}function c(b,c,d){return this.options[d]&&(this.getAttribute("multiple")||a.selectBox.updateMaskValue(this.linker,this.options[d].value,this.options[d].text),this.value=this.options[d].value),d}function d(b){var c=b.target;a(c.linker).remove(),delete c.linker,b.stopPropagation()}a.selectBox={scroller:null,currLinker:null,getOldSelects:function(e){if(a.os.android&&!a.os.androidICS){if(!a.fn.scroller)return void alert("This library requires af.scroller");var f=e&&document.getElementById(e)?document.getElementById(e):document;if(!f)return void alert("Could not find container element for af.selectBox "+e);for(var g=f.getElementsByTagName("select"),h=this,i=0;i<g.length;i++){var j=g[i];j.style.display="none";var k=a.create("div",{className:"afFakeSelect"});k.get(0).linker=g[i],j.linker=k.get(0),k.insertAfter(g[i]),j.watch("selectedIndex",c);for(var l=0;l<j.options.length;l++){j.options[l].watch("selected",b),j.options[l].selected&&k.html(j.options[l].text)}a(j).one("destroy",d)}h.createHtml()}},updateDropdown:function(a){if(a){for(var b=0;b<a.options.length;b++)a.options[b].selected&&(a.linker.innerHTML=a.options[b].text);a=null}},initDropDown:function(c){if(!c.disabled&&c&&c.options&&0!==c.options.length){var d=0,e=a("#afSelectBoxfix");e.html("<ul></ul>");for(var f=e.find("ul"),g=0;g<c.options.length;g++){c.options[g].watch("selected",b);var h=c.options[g].selected?"selected":"";h&&(d=g+1);var i=a.create("li",{html:c.options[g].text,className:h});i.data("ind",g),f.append(i)}a("#afModalMask").show();try{if(d>0&&"multiple"!=c.getAttribute("multiple")){var j=0,k=numOnly(f.find("li").computedStyle("height")),l=numOnly(a("#afSelectBoxContainer").computedStyle("height"));d*k>=l&&(j=(d-1)*-k),this.scroller.scrollTo({x:0,y:j})}}catch(m){console.log("error init dropdown"+m)}var n="block"==a("#afSelectClose").css("display")?numOnly(a("#afSelectClose").height()):0;a("#afSelectWrapper").height(numOnly(a("#afSelectBoxContainer").height())-n+"px")}},updateMaskValue:function(b,c,d){a(b).html(d)},setDropDownValue:function(b,c){if(b){var d=a(b);if(c=parseInt(c,10),b.getAttribute("multiple")){var e=a("#afSelectBoxfix li:nth-child("+(c+1)+")");e.hasClass("selected")?e.removeClass("selected"):e.addClass("selected")}else b.selectedIndex=c,d.find("option").prop("selected",!1),d.find("option:nth-child("+(c+1)+")").prop("selected",!0),this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();a(b).trigger("change"),b=null}},hideDropDown:function(){a("#afModalMask").hide(),a("#afSelectBoxfix").html("")},createHtml:function(){var b=this;document.getElementById("afSelectBoxfix")||a(document).ready(function(){a(document).on("click",".afFakeSelect",function(){this.linker.disabled||(b.currLinker=this,"multiple"==this.linker.getAttribute("multiple")?a("#afSelectClose").show():a("#afSelectClose").hide(),b.initDropDown(this.linker))});var c=a.create("div",{id:"afSelectBoxContainer"}),d=a.create("div",{id:"afSelectBoxfix"}),e=a.create("div",{id:"afSelectWrapper"});e.css("position","relative"),e.append(d);var f=a.create("div",{id:"afSelectClose",html:"<a id='afSelectDone'>Done</a> <a id='afSelectCancel'>Cancel</a>"}),g=a.create("div",{id:"afModalMask"}),h=a("#afui");c.prepend(f).append(e),g.append(c),h.length>0?h.append(g):document.body.appendChild(g.get(0)),b.scroller=a.query("#afSelectBoxfix").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"}),a("#afModalMask").on("click",function(c){var d=a(c.target);0===d.closest("#afSelectBoxContainer").length&&b.hideDropDown()}),a("#afSelectBoxfix").on("click","li",function(c){var d=a(c.target);b.setDropDownValue(b.currLinker.linker,d.data("ind"))}),a("#afSelectBoxContainer").on("click","a",function(c){if("afSelectCancel"==c.target.id)return b.hideDropDown();var d=a(b.currLinker.linker);return d.find("option").prop("selected",!1),a("#afSelectBoxfix li").each(function(){var c=a(this);if(c.hasClass("selected")){var e=parseInt(c.data("ind"),10);d.find("option:nth-child("+(e+1)+")").prop("selected",!0),b.currLinker.innerHTML=c.html()}}),b.hideDropDown(),c.stopPropagation(),c.preventDefault(),!1})})}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(a,b){var c=this[a],d=c,e=function(){return d},f=function(e){return c=d,d=b.call(this,a,c,e)};delete this[a]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,a,{get:e,set:f,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,a,e),HTMLElement.prototype.__defineSetter__.call(this,a,f)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(a){var b=this[a];delete this[a],this[a]=b})}(af),function(a){function b(a){return"tagName"in a?a:a.parentNode}function c(a,b,c,d){var e=Math.abs(a-b),f=Math.abs(c-d);return e>=f?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function d(){g.last&&Date.now()-g.last>=h&&(g.el.trigger("longTap"),g={})}var e,f,g={},h=750;a(document).ready(function(){var i;a(document.body).bind("touchstart",function(c){if(c.originalEvent&&(c=c.originalEvent),c.touches&&0!==c.touches.length){var j=Date.now(),k=j-(g.last||j);c.touches&&0!==c.touches.length&&(g.el=a(b(c.touches[0].target)),e&&clearTimeout(e),g.x1=c.touches[0].pageX,g.y1=c.touches[0].pageY,g.x2=g.y2=0,k>0&&250>=k&&(g.isDoubleTap=!0),g.last=j,f=setTimeout(d,h),a.ui.useAutoPressed&&!g.el.data("ignore-pressed")&&g.el.addClass("pressed"),i&&a.ui.useAutoPressed&&!i.data("ignore-pressed")&&i[0]!=g.el[0]&&i.removeClass("pressed"),i=g.el)}}).bind("touchmove",function(a){a.originalEvent&&(a=a.originalEvent),g.x2=a.touches[0].pageX,g.y2=a.touches[0].pageY,clearTimeout(f)}).bind("touchend",function(b){b.originalEvent&&(b=b.originalEvent),g.el&&(a.ui.useAutoPressed&&!g.el.data("ignore-pressed")&&g.el.removeClass("pressed"),g.isDoubleTap?(g.el.trigger("doubleTap"),g={}):g.x2>0||g.y2>0?((Math.abs(g.x1-g.x2)>30||Math.abs(g.y1-g.y2)>30)&&g.el.trigger("swipe")&&g.el.trigger("swipe"+c(g.x1,g.x2,g.y1,g.y2)),g.x1=g.x2=g.y1=g.y2=g.last=0):"last"in g&&(g.el.trigger("tap"),e=setTimeout(function(){e=null,g.el&&g.el.trigger("singleTap"),g={}},250)))}).bind("touchcancel",function(){g.el&&a.ui.useAutoPressed&&!g.el.data("ignore-pressed")&&g.el.removeClass("pressed"),g={},clearTimeout(f)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})}(jq),function(a){"use strict";a.touchLayer=function(b){return a.touchLayer=new l(b),a.touchLayer};var b=["input","select","textarea"],c=["button","radio","checkbox","range","date"],d=a.os.ios,e=a.os.blackberry,f=a.os.blackberry||a.os.fennec||a.os.android&&!a.os.chrome,g=a.os.ios&&!a.os.ios7,h=.97,i=2,j=!1,k=!1,l=function(b){this.clearTouchVars(),b.addEventListener("touchstart",this,!1),b.addEventListener("touchmove",this,!1),b.addEventListener("touchend",this,!1),b.addEventListener("click",this,!1),b.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=b,this.scrollEndedProxy_=a.proxy(this.scrollEnded,this),this.exitEditProxy_=a.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=a.proxy(this.launchFixUI,this);var c=this;this.scrollTimeoutExpireProxy_=function(){c.scrollTimeout_=null,c.scrollTimeoutEl_.addEventListener("scroll",c.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){a.os.android&&!a.os.chrome&&(c.layer.style.height="100%"),a.asap(c.testAndFixUI,c,arguments)},document.addEventListener("click",function(a){return k?(a.preventDefault(),a.stopPropagation(),!1):void(void 0!==a.clientX&&null!==c.lastTouchStartX&&2>Math.abs(c.lastTouchStartX-a.clientX)&&2>Math.abs(c.lastTouchStartY-a.clientY)&&(a.preventDefault(),a.stopPropagation()))},!0),a.bind(this,"scrollstart",function(b){c.isScrolling=!0,c.scrollingEl_=b,a.feat.nativeTouchScroll||(c.scrollerIsScrolling=!0),c.fireEvent("UIEvents","scrollstart",b,!1,!1)}),a.bind(this,"scrollend",function(b){c.isScrolling=!1,a.feat.nativeTouchScroll||(c.scrollerIsScrolling=!1),c.fireEvent("UIEvents","scrollend",b,!1,!1)}),this.hideAddressBar(0,1),this.launchFixUI(5)};l.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,trackingClick:!1,scrollerIsScrolling:!1,handleEvent:function(a){switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onTouchEnd(a);break;case"click":this.onClick(a);break;case"blur":this.onBlur(a);break;case"scroll":this.onScroll(a);break;case"orientationchange":this.onOrientationChange(a);break;case"resize":this.onResize(a);break;case"focusin":this.onFocusIn(a)}},launchFixUI:function(a){return a||(a=i),null===this.reHideAddressBarTimeout_?this.testAndFixUI(0,a):void 0},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(b,c){var d=this.getReferenceHeight(),e=this.getCurrentHeight();return d===e||d>e*h&&e>d*h?(a.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(b,c),!0)},hideAddressBar:function(b,c){if(!a.ui||!a.ui.isIntel){if(b>=c)return void this.resetFixUI();if(a.os.desktop||a.os.kindle)this.layer.style.height="100%";else if(a.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_||window.innerHeight>=window.outerHeight?window.innerHeight+"px":window.outerHeight+"px";var d=this,e=b+1;this.reHideAddressBarTimeout_=setTimeout(d.retestAndFixUIProxy_,250*e,e,c)}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")}},getReferenceHeight:function(){return window.innerHeight},getCurrentHeight:function(){return a.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(){var b=this,c=!1;if(this.focusedElement&&(c=!0,this.focusedElement.blur()),!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange"),a.os.android&&a.os.chrome){this.layer.style.height="100%";var d=c?600:0;setTimeout(function(){b.hideAddressBar(0,1)},d)}},onResize:function(){return this.ignoreNextResize_?void(this.ignoreNextResize_=!1):void(this.launchFixUI()&&this.reshapeAction())},onClick:function(e){var f=e.target&&void 0!==e.target.tagName?e.target.tagName.toLowerCase():"";if(-1===b.indexOf(f)||this.isFocused_&&e.target===this.focusedElement)a.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{var g=e.target&&void 0!==e.target.type?e.target.type.toLowerCase():"",h=-1!==c.indexOf(g);if(h)this.isFocused_=!1;else{if(this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=e.target,this.focusedElement.addEventListener("blur",this,!1),!this.isFocused_&&!this.justBlurred_)if(a.trigger(this,"enter-edit",[e.target]),a.os.ios){var i=this;setTimeout(function(){i.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit");this.isFocused_=!0}this.justBlurred_=!1,this.allowDocumentScroll_=!0,d&&e.target.focus()}},previewReshapeEvent:function(a){var b=this;this.reshapeTimeout_=setTimeout(function(){b.fireReshapeEvent(a),b.reshapeTimeout_=null,b.holdingReshapeType_=null},750),this.holdingReshapeType_=a},fireReshapeEvent:function(b){a.trigger(this,"reshape"),a.trigger(this,b?b+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(a){this.isFocused_||this.onClick(a)},onBlur:function(b){a.os.android&&b.target===window||(this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,a.asap(this.exitEditProxy_,this,[b.target]))},exitExit:function(b){if(this.justBlurred_=!1,!this.isFocused_)if(a.trigger(this,"exit-edit",[b]),this.allowDocumentScroll_=!1,a.os.ios){var c=this;setTimeout(function(){c.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")},onScroll:function(a){this.allowDocumentScroll_||this.isPanning_||a.target!==document||(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[i])):this.launchFixUI())},onTouchStart:function(c){if(this.dX=c.touches[0].pageX,this.dY=c.touches[0].pageY,this.lastTimestamp=c.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null,a.os.ios){if(j===c.touches[0].identifier)return k=!0,c.preventDefault(),j=!1,!1;j=c.touches[0].identifier,k=!1}if(this.scrollerIsScrolling)return this.moved=!0,this.scrollerIsScrolling=!1,c.preventDefault(),!1;this.trackingClick=!0,(g||a.feat.nativeTouchScroll)&&this.checkDOMTree(c.target,this.layer),this.isScrolling&&(null!==this.scrollTimeout_?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!==this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));var d=a.os.android&&c&&c.target&&c.target.getAttribute&&"ignore"===c.target.getAttribute("data-touchlayer");if(d||this.isFocused_&&!a.os.blackberry10)this.requiresNativeTap=!0,this.allowDocumentScroll_=!0;else if(f&&c.target&&void 0!==c.target.tagName){var e=c.target.tagName.toLowerCase();-1!==b.indexOf(e)&&(this.requiresNativeTap=!0)}else c.target&&void 0!==c.target.tagName&&"input"===c.target.tagName.toLowerCase()&&"range"===c.target.type&&(this.requiresNativeTap=!0);this.isPanning_||this.requiresNativeTap?this.isScrollingVertical_&&this.demandVerticalScroll():(this.isScrolling&&!a.feat.nativeTouchScroll||!this.isScrolling)&&c.preventDefault()},demandVerticalScroll:function(){var a=this.scrollingEl_.scrollTop<=0;if(a)this.scrollingEl_.scrollTop=1;else{var b=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,c=b>=this.scrollingEl_.scrollHeight;c&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)}},ignoreScrolling:function(a){return void 0===a.scrollWidth||void 0===a.clientWidth?!0:void 0===a.scrollHeight||void 0===a.clientHeight?!0:!1},allowsVerticalScroll:function(a,b){var c=b.overflowY;return"scroll"===c?!0:"auto"===c&&a.scrollHeight>a.clientHeight?!0:!1},allowsHorizontalScroll:function(a,b){var c=b.overflowX;return"scroll"===c?!0:"auto"===c&&a.scrollWidth>a.clientWidth?!0:!1},checkDOMTree:function(b,c){if(g&&this.panElementId===b.id)return void(this.isPanning_=!0);if(a.feat.nativeTouchScroll){if(this.ignoreScrolling(b))return;var d=window.getComputedStyle(b);if(this.allowsVerticalScroll(b,d))return this.isScrollingVertical_=!0,this.scrollingEl_=b,void(this.isScrolling=!0);this.allowsHorizontalScroll(b,d)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}var e=b===c;!e&&b.parentNode&&this.checkDOMTree(b.parentNode,c)},scrollEnded:function(a){null!==this.scrollTimeoutEl_&&(a&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null)},onTouchMove:function(b){var c=this.moved;return this.moved=!0,e&&(this.cY=b.touches[0].pageY-this.dY,this.cX=b.touches[0].pageX-this.dX),this.isPanning_?void 0:(this.isScrolling&&(c||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-b.touches[0].pageY)/(b.timeStamp-this.lastTimestamp),this.lastY=b.touches[0].pageY,this.lastX=b.touches[0].pageX,this.lastTimestamp=b.timeStamp),a.os.blackberry10?void 0:void(this.isScrolling&&a.feat.nativeTouchScroll||b.preventDefault()))},onTouchEnd:function(b){var c=this.moved;if(e&&(c=c&&!(Math.abs(this.cX)<10&&Math.abs(this.cY)<10)),a.os.ios&&this.requiresNativeTap||(this.allowDocumentScroll_=!1),this.isPanning_&&c)this.wasPanning_=!0;else if(c||this.requiresNativeTap)c&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,Math.abs(this.speedY)<.01?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||a.trigger(this,"cancel-enter-edit",[b.target])));else{if(this.scrollerIsScrolling=!1,!this.trackingClick)return;if(b.preventDefault(),!this.blockClicks&&!this.blockPossibleClick_){var d=b.target,f=b.changedTouches?b.changedTouches[0]:b.touches[0];3===d.nodeType&&(d=d.parentNode),this.fireEvent("Event","click",d,!0,b.mouseToTouch,f[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY}}a.os.blackberry10&&(this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY),this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1,this.trackingClick=!1},fireEvent:function(b,c,d,e,f,g){var h=document.createEvent(b);h.initEvent(c,e,!0),g&&a.each(g,function(a,b){h.key=b}),f&&(h.mouseToTouch=!0),d.dispatchEvent(h)}}}(af),function(a){"use strict";var b=window.location.pathname+window.location.search,c=window.location.hash,d=c,e=function(){function b(d){"afui"===d.target.id&&(c(),a(document).unbind("DOMNodeInserted",b))}function c(){d.useOSThemes&&(a.os.android?a("#afui").addClass("android"):a.os.ie?a("#afui").addClass("win8"):a.os.blackberry||a.os.blackberry10||a.os.playbook?(a("#afui").addClass("bb"),d.backButtonText="Back"):a.os.ios7?a("#afui").addClass("ios7"):a.os.ios&&a("#afui").addClass("ios")),a.os.ios&&(a("head").find("#iosBlurrHack").remove(),a("head").append("<style id='iosBlurrHack'>#afui .panel > * {-webkit-backface-visibility: hidden;-webkit-perspective: 1000;}</style>"))}var d=this;this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition,1===a("#afui").length?c():a(document).bind("DOMNodeInserted",b);var e=function(){var b=document.getElementById("afui");if(null===b){b=document.createElement("div"),b.id="afui";for(var d=document.body;d&&d.firstChild;)b.appendChild(d.firstChild);a(document.body).prepend(b)}a.os.supportsTouch&&a.touchLayer(b),c()};"intel"in window?document.addEventListener("intel.xdk.device.ready",function(){e(),d.autoBoot()},!0):"complete"==document.readyState||"loaded"==document.readyState?(e(),d.init?d.autoBoot():a(window).one("afui:init",function(){d.autoBoot()})):a(document).ready(function(){e(),d.init?d.autoBoot():a(window).one("afui:init",function(){d.autoBoot()})},!1),"intel"in window||(window.intel={xdk:{}},window.intel.xdk.webRoot=""),window.addEventListener("popstate",function(){if(d.useInteralRouting){var a=d.getPanelId(document.location.hash),b=document.location.href.replace(document.location.origin+"/","");"#"!=b&&(""===a&&1===d.history.length&&(a="#"+d.firstDiv.id),""!==a&&0!==af(a).filter(".panel").length&&a!="#"+d.activeDiv.id&&d.goBack())}},!1)};e.prototype={init:!1,transitionTime:"230ms",showLoading:!0,loadingText:"Loading Content",loadContentQueue:[],isIntel:!1,titlebar:"",navbar:"",header:"",viewportContainer:"",remotePages:{},history:[],homeDiv:"",screenWidth:"",content:"",modalWindow:"",customFooter:!1,defaultFooter:"",defaultHeader:null,customMenu:!1,defaultMenu:"",_readyFunc:null,doingTransition:!1,passwordBox:a.passwordBox?new a.passwordBox:!1,selectBox:a.selectBox?a.selectBox:!1,ajaxUrl:"",transitionType:"slide",scrollingDivs:{},firstDiv:"",hasLaunched:!1,launchCompleted:!1,activeDiv:"",customClickHandler:"",menuAnimation:null,togglingSideMenu:!1,sideMenuWidth:"200px",handheldMinWidth:"768",trimBackButtonText:!0,useOSThemes:!0,lockPageBounce:!1,animateHeaders:!0,useAutoPressed:!0,horizontalScroll:!1,_currentHeaderID:"defaultHeader",useInteralRouting:!0,autoBoot:function(){this.hasLaunched=!0,this.autoLaunch&&this.launch()},css3animate:function(b,c){return b=a(b),b.css3Animate(c)},setSideMenuWidth:function(b){this.sideMenuWidth=b,b+="",b=b.replace("px","")+"px",a("head").find("#styleWidth").remove(),a("head").append("<style id='styleWidth'>#afui #menu {width:"+b+"  !important}</style>")},disableNativeScrolling:function(){a.feat.nativeTouchScroll=!1},manageHistory:!0,loadDefaultHash:!0,useAjaxCacheBuster:!1,actionsheet:function(b){return a.query("#afui").actionsheet(b)},popup:function(b){return a.query("#afui").popup(b)},blockUI:function(b){a.blockUI(b)},unblockUI:function(){a.unblockUI()},removeFooterMenu:function(){a.query("#navbar").hide(),a.query("#content").css("bottom","0px"),this.showNavMenu=!1},showNavMenu:!0,autoLaunch:!0,showBackbutton:!0,showBackButton:!0,backButtonText:"",resetScrollers:!0,ready:function(b){this.launchCompleted?b():a(document).on("afui:ready",function(){b()})},setBackButtonStyle:function(b){a.query("#header #backButton").get(0).className=b},goBack:function(a){if(a=Math.min(Math.abs(~~a||1),this.history.length)){var b=this.history.splice(-a).shift();this.loadContent(b.target+"",0,1,b.transition),this.transitionType=b.transition,this.updateHash(b.target)}},clearHistory:function(){this.history=[],this.setBackButtonVisibility(!1)},pushHistory:function(c,d,e,f){this.history.push({target:c,transition:e});try{if(!this.manageHistory)return;window.history.pushState(d,d,b+"#"+d+f),a(window).trigger("hashchange",null,{newUrl:b+"#"+d+f,oldURL:b+c})}catch(g){}},updateHash:function(c){if(this.manageHistory){c=-1==c.indexOf("#")?"#"+c:c,d=c;var e=window.location.hash,f=this.getPanelId(c).substring(1);try{window.history.replaceState(f,f,b+c),a(window).trigger("hashchange",null,{newUrl:b+c,oldUrl:b+e})}catch(g){}}},getPanelId:function(a){var b=a.indexOf("/");return-1==b?a:a.substring(0,b)},updateBadge:function(b,c,d,e){void 0===d&&(d="");var f=a(b),g=f.find("span.af-badge");0===g.length?("absolute"!=f.css("position")&&f.css("position","relative"),g=a.create("span",{className:"af-badge "+d,html:c}),f.append(g)):g.html(c),g.removeClass("tl bl br tr"),g.addClass(d),void 0===e&&(e="red"),a.isObject(e)?g.css(e):e&&g.css("background",e),g.data("ignore-pressed","true")},removeBadge:function(b){a(b).find("span.af-badge").remove()},toggleNavMenu:function(b){this.showNavMenu&&("none"!=a.query("#navbar").css("display")&&(void 0!==b&&b!==!0||void 0===b)?(a.query("#content").css("bottom","0px"),a.query("#navbar").hide()):(void 0===b||void 0!==b&&b===!0)&&(a.query("#navbar").show(),a.query("#content").css("bottom",a.query("#navbar").css("height"))))},toggleHeaderMenu:function(b){"none"!=a.query("#header").css("display")&&(void 0!==b&&b!==!0||void 0===b)?(a.query("#content").css("top","0px"),a.query("#header").hide()):(void 0===b||void 0!==b&&b===!0)&&(a.query("#header").show(),a.query("#content").css("top",a.query("#header").css("height")))},toggleSideMenu:function(b,c,d){if(this.isSideMenuEnabled()&&!this.togglingSideMenu){var e=this,f=a.query("#menu"),g=a.query("#content,  #header, #navbar"),h=a.query(".afui_panel_mask");d=d||this.transitionTime;var i=this.isSideMenuOn();0===h.length&&window.innerWidth<a.ui.handheldMinWidth&&(g.append('<div class="afui_panel_mask"></div>'),h=a.query(".afui_panel_mask"),a(".afui_panel_mask").bind("click",function(){a.ui.toggleSideMenu(!1)})),2===b||!i&&(void 0!==b&&b!==!1||void 0===b)?(this.togglingSideMenu=!0,f.show(),e.css3animate(g,{x:e.sideMenuWidth,time:d,complete:function(b){e.togglingSideMenu=!1,g.vendorCss("Transition",""),c&&c(b),0!==h.length&&window.innerWidth<a.ui.handheldMinWidth&&h.show()}})):(void 0===b||void 0!==b&&b===!1)&&(this.togglingSideMenu=!0,e.css3animate(g,{x:"0px",time:d,complete:function(b){g.vendorCss("Transition",""),g.vendorCss("Transform",""),e.togglingSideMenu=!1,c&&c(b),f.hide(),0!==h.length&&window.innerWidth<a.ui.handheldMinWidth&&h.hide()}}))}},disableSideMenu:function(){var b=a.query("#content, #header, #navbar");this.isSideMenuOn()?this.toggleSideMenu(!1,function(a){a||b.removeClass("hasMenu")}):b.removeClass("hasMenu"),a.query("#menu").removeClass("tabletMenu")},enableSideMenu:function(){a.query("#content, #header, #navbar").addClass("hasMenu"),a.query("#menu").addClass("tabletMenu")},isSideMenuEnabled:function(){return a.query("#content").hasClass("hasMenu")},isSideMenuOn:function(){var b=parseInt(a.getCssMatrix(a("#content")).e)>1?!0:!1;return this.isSideMenuEnabled()&&b},prevFooter:null,updateNavbarElements:function(b){this.prevFooter&&this.prevFooter.appendTo(this.prevFooter.data("parent")?"#"+this.prevFooter.data("parent"):"#afui"),a.is$(b)||(b=a.query("#"+b)),a.query("#navbar").append(b),this.prevFooter=b;var c=a.query("#navbar a");if(c.length>0){c.data("ignore-pressed","true").data("resetHistory","true");var d=parseFloat(100/c.length);c.css("width",d+"%")}var e=a.query("#navbar footer");if(0!==e.length){e=e.get(0).childNodes;for(var f=0;f<e.length;f++)3===e[f].nodeType&&e[f].parentNode.removeChild(e[f])}},prevHeader:null,updateHeaderElements:function(b,c){var d=this;if(a.is$(b)||(b=a.query("#"+b)),b!=this.prevHeader)if(this._currentHeaderID=b.prop("id"),this.prevHeader){if(a.query("#header").append(b),!a.ui.animateHeaders)return d.prevHeader.appendTo(d.prevHeader.data("parent")?"#"+d.prevHeader.data("parent"):"#afui"),void(d.prevHeader=b);var e=c?"100px":"-100px",f=c?"-100px":"100px";d.prevHeader.addClass("ignore"),d.css3animate(b,{x:f,opacity:.3,time:"1ms"}),d.css3animate(d.prevHeader,{x:e,y:0,opacity:.3,time:d.transitionTime,delay:numOnly(d.transitionTime)/5+"ms",complete:function(){d.prevHeader.appendTo(d.prevHeader.data("parent")?"#"+d.prevHeader.data("parent"):"#afui"),d.prevHeader.removeClass("ignore"),d.css3animate(d.prevHeader,{x:f,opacity:1,time:"1ms"}),d.prevHeader=b}}),d.css3animate(b,{x:"0px",opacity:1,time:d.transitionTime})}else a.query("#header").append(b),this.prevHeader=b},updateSideMenu:function(a){return this.updateSideMenuElements(a)},updateSideMenuElements:function(b){if(void 0!==b&&null!==b){var c=a.query("#menu_scroller");this.prevMenu&&(this.prevMenu.insertBefore("#afui #menu"),this.prevMenu=null),a.is$(b)||(b=a.query("#"+b)),c.html(""),c.append(b),this.prevMenu=b,this.scrollingDivs.menu_scroller.hideScrollbars(),this.scrollingDivs.menu_scroller.scrollToTop()}},setTitle:function(b){"defaultHeader"===this._currentHeaderID&&a.query("#header header:not(.ignore)  #pageTitle").html(b)},setBackButtonText:function(b){"defaultHeader"===this._currentHeaderID&&(this.trimBackButtonText&&b.length>=7&&(b=b.substring(0,5)+"..."),this.backButtonText.length>0?a.query("#header header:not(.ignore) #backButton").html(this.backButtonText):a.query("#header header:not(.ignore)  #backButton").html(b))},setBackButtonVisibility:function(b){b?a.query("#header #backButton").css("visibility","visible"):a.query("#header #backButton").css("visibility","hidden")},showMask:function(b){b||(b=this.loadingText||""),a.query("#afui_mask>h1").html(b),a.query("#afui_mask").show()},hideMask:function(){a.query("#afui_mask").hide()},modalReference_:null,showModal:function(b,c){var d=this;this.modalTransition=c||"up";var e=a.query("#modalContainer");"string"==typeof b&&(b="#"+b.replace("#",""));var f=a.query(b);if(this.modalReference_=f,f.length){var g=this.scrollingDivs.hasOwnProperty(f.attr("id")),g=this.scrollingDivs.hasOwnProperty(f.attr("id"));e.empty();var h;h=a.feat.nativeTouchScroll||!g?f.contents():a(f.get(0).childNodes[0]).contents(),e.append(h),e.append("<a onclick='$.ui.hideModal();' class='closebutton modalbutton'></a>"),d.modalWindow.style.display="block",this.runTransition(this.modalTransition,d.modalTransContainer,d.modalWindow,!1),g?this.scrollingDivs.modal_container.enable(d.resetScrollers):this.scrollingDivs.modal_container.disable(),this.scrollToTop("modal"),e.data("panel",b);var i=f.get(0),j=i.getAttribute("data-load");"string"==typeof j&&window[j]&&window[j](i),f.trigger("loadpanel")}},hideModal:function(){var b=this,c=a.query("#modalContainer");c.find(".closebutton.modalbutton").remove();var d=this.scrollingDivs.hasOwnProperty(this.modalReference_.attr("id"));this.runTransition(b.modalTransition,b.modalWindow,b.modalTransContainer,!0),this.scrollingDivs.modal_container.disable();var e=a.query(c.data("panel")),f=e.data("unload");"string"==typeof f&&window[f]&&window[f](e.get(0)),e.trigger("unloadpanel"),setTimeout(function(){a.feat.nativeTouchScroll||!d?b.modalReference_.append(c.contents()):a(b.modalReference_.get(0).childNodes[0]).append(c.contents()),c.html("",!0)},this.transitionTime)},updatePanel:function(b,c){b="#"+b.replace("#","");var d=a.query(b).get(0);if(d){var e=a.create("div",{html:c});e=e.children(".panel")&&e.children(".panel").length>0?e.children(".panel").get(0):e.get(0),!d.getAttribute("js-scrolling")||"yes"!=d.getAttribute("js-scrolling").toLowerCase()&&"true"!=d.getAttribute("js-scrolling").toLowerCase()?(a.cleanUpContent(d,!1,!0),a(d).html(c)):(a.cleanUpContent(d.childNodes[0],!1,!0),a(d.childNodes[0]).html(c)),e.getAttribute("data-title")&&d.setAttribute("data-title",e.getAttribute("data-title"))}},updateContentDiv:function(a,b){return this.updatePanel(a,b)},addContentDiv:function(b,c,d,e,f){b="string"!=typeof b?b:-1==b.indexOf("#")?"#"+b:b;
var g,h,i=a.query(b).get(0);return i?g=i:(g=a.create("div",{html:c}),g=g.children(".panel")&&g.children(".panel").length>0?g.children(".panel").get(0):g.get(0),!g.getAttribute("data-title")&&d&&g.setAttribute("data-title",d),h=g.id?g.id:b.replace("#",""),g.id=h,g.id!=b&&g.setAttribute("data-crc",b.replace("#",""))),g.className="panel",h=g.id,this.addDivAndScroll(g,e,f),i=null,g=null,h},addDivAndScroll:function(b,c,d,e){var f,g=this,h=!1,i=b.style.overflow,j="hidden"!=i&&"visible"!=i;e=e||this.content,!a.feat.nativeTouchScroll&&j&&b.setAttribute("js-scrolling","true"),!b.getAttribute("js-scrolling")||"yes"!=b.getAttribute("js-scrolling").toLowerCase()&&"true"!=b.getAttribute("js-scrolling").toLowerCase()||(h=!0,j=!0);var k=b.getAttribute("data-title")||b.title;if(b.title="",b.setAttribute("data-title",k),b.getAttribute("scrolling")&&"no"==b.getAttribute("scrolling")&&(j=!1,h=!1,b.removeAttribute("js-scrolling")),!h||a.os.desktop)e.appendChild(b),f=b,b.style["-webkit-overflow-scrolling"]="none";else{f=b.cloneNode(!1),b.title=null,b.id=null;var l=a(b);l.removeAttr("data-footer data-aside data-nav data-header selected data-load data-unload data-tab data-crc title data-title"),l.replaceClass("panel","afScrollPanel"),f.appendChild(b),e.appendChild(f),this.selectBox!==!1&&this.selectBox.getOldSelects(f.id),this.passwordBox!==!1&&this.passwordBox.getOldPasswords(f.id)}j&&(this.scrollingDivs[f.id]=a(b).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:g.horizontalScroll,vScrollCSS:"afScrollbar",refresh:c,useJsScroll:h,noParent:!h,lockBounce:this.lockPageBounce,autoEnable:!1}),d&&a.bind(this.scrollingDivs[f.id],"refresh-release",function(a){a&&d()})),b=null,f=null},scrollToTop:function(a,b){b=b||"300ms",a=a.replace("#",""),this.scrollingDivs[a]&&this.scrollingDivs[a].scrollToTop(b)},scrollToBottom:function(a,b){a=a.replace("#",""),this.scrollingDivs[a]&&this.scrollingDivs[a].scrollToBottom(b)},parsePanelFunctions:function(b,c,d){var e=this,f=b.getAttribute("data-footer"),g=b.getAttribute("data-header");f&&"none"==f.toLowerCase()?(e.toggleNavMenu(!1),f=!1):e.toggleNavMenu(!0),f&&e.customFooter!=f?(e.customFooter=f,e.updateNavbarElements(f)):f!=e.customFooter&&(e.customFooter&&e.updateNavbarElements(e.defaultFooter),e.customFooter=!1),g&&"none"==g.toLowerCase()?(e.toggleHeaderMenu(!1),g=!1):e.toggleHeaderMenu(!0),g&&e.customHeader!=g?(e.customHeader=g,e.updateHeaderElements(g,d)):g!=e.customHeader&&(e.customHeader&&e.updateHeaderElements(e.defaultHeader,d),e.customHeader=!1);var h=a(b).find("footer");h.length>0&&(e.customFooter=b.id,h.data("parent",b.id),e.updateNavbarElements(h));var i=a(b).find("header");i.length>0&&(e.customHeader=b.id,i.data("parent",b.id),e.updateHeaderElements(i,d)),b.getAttribute("data-tab")&&(a.query("#navbar a").removeClass("pressed"),a.query("#navbar #"+b.getAttribute("data-tab")).addClass("pressed"));var j=b.getAttribute("data-nav");j&&this.customMenu!=j?(this.customMenu=j,this.updateSideMenuElements(j)):j!=this.customMenu&&(this.customMenu&&this.updateSideMenuElements(this.defaultMenu),this.customMenu=!1),c&&(k=c.getAttribute("data-unload"),"string"==typeof k&&window[k]&&window[k](c),a(c).trigger("unloadpanel"));var k=b.getAttribute("data-load");if("string"==typeof k&&window[k]&&window[k](b),a(b).trigger("loadpanel"),this.isSideMenuOn()){var e=this;e.toggleSideMenu(!1)}},parseScriptTags:function(b){b&&a.parseJS(b)},loadContent:function(b,c,d,e,f){if(this.doingTransition){return void this.loadContentQueue.push([b,c,d,e,f])}if(0!==b.length){var g=!0;if(f=f||document.createElement("a"),-1==b.indexOf("#")){var i="url"+h(b),j=a.query("div.panel[data-crc='"+i+"']");a.query("#"+b).length>0?g=!1:j.length>0?(g=!1,"true"===f.getAttribute("data-refresh-ajax")||f.refresh&&f.refresh===!0||this.isAjaxApp?g=!0:b="#"+j.get(0).id):a.query("#"+i).length>0&&(g=!1,"true"===f.getAttribute("data-refresh-ajax")||f.refresh&&f.refresh===!0||this.isAjaxApp?g=!0:b="#"+i)}-1==b.indexOf("#")&&g?this.loadAjax(b,c,d,e,f):this.loadDiv(b,c,d,e)}},loadDiv:function(b,c,e,f){var g=this,h=b.replace("#",""),i=h.indexOf("/"),j="";if(-1!=i&&(j=h.substr(i),h=h.substr(0,i)),h=a.query("#"+h).get(0),!h)return void a(document).trigger("missingpanel",null,{missingTarget:b});if(h==this.activeDiv&&!e)return void(this.isSideMenuOn()&&this.toggleSideMenu(!1));this.transitionType=f;var k=this.activeDiv,l=h;return"true"==h.getAttribute("data-modal")||"true"==h.getAttribute("modal")?this.showModal(h.id):void(k!=l&&(c?(this.clearHistory(),this.pushHistory("#"+this.firstDiv.id,h.id,f,j)):e||this.pushHistory(d,h.id,f,j),d="#"+h.id+j,this.doingTransition=!0,k.style.display="block",l.style.display="block",this.runTransition(f,k,l,e),this.parsePanelFunctions(h,k,e),this.loadContentData(h,c,e,f),setTimeout(function(){g.scrollingDivs[k.id]&&g.scrollingDivs[k.id].disable()},numOnly(g.transitionTime)+50)))},loadContentData:function(b,c,d){var e,f,g,h;d?this.history.length>0&&(g=this.history[this.history.length-1],h=g.target.indexOf("/"),e=-1!=h?g.target.substr(0,h):g.target,f=a.query(e).get(0),this.setBackButtonText(f?f.getAttribute("data-title"):"Back")):this.setBackButtonText(this.activeDiv.getAttribute("data-title")?this.activeDiv.getAttribute("data-title"):"Back"),b.getAttribute("data-title")&&this.setTitle(b.getAttribute("data-title")),c&&(this.setBackButtonText(this.firstDiv.getAttribute("data-title")),b==this.firstDiv&&(this.history.length=0)),a("#header #menubadge").css("float","right"),0===this.history.length?(this.setBackButtonVisibility(!1),this.history=[],a("#header #menubadge").css("float","left")):this.showBackButton&&this.showBackbutton&&this.setBackButtonVisibility(!0),this.activeDiv=b,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable(this.resetScrollers)},loadAjax:function(b,c,d,e,f){if("afui_ajax"!=this.activeDiv.id||b!=this.ajaxUrl){var g="url"+h(b),i=this;-1==b.indexOf("http")&&(b=intel.xdk.webRoot+b);var j=new XMLHttpRequest;f&&"object"!=typeof f&&(f=document.createElement("a"),f.setAttribute("data-persist-ajax",!0)),f=f||document.createElement("a"),j.onreadystatechange=function(){if(4==j.readyState&&200==j.status){this.doingTransition=!1;var h,k=!1,l=a.query("#"+g);if(l.length>0)i.updatePanel(g,j.responseText),l.get(0).setAttribute("data-title",f.title?f.title:b);else if(f.getAttribute("data-persist-ajax")||i.isAjaxApp){var m="true"===f.getAttribute("data-pull-scroller")?!0:!1;h=m?function(){f.refresh=!0,i.loadContent(b,c,d,e,f),f.refresh=!1}:null;var n=a(j.responseText);n.hasClass("panel")?(g=n.attr("id"),n=n.get(0).innerHTML):n=n.html(),a("#"+g).length>0?i.updatePanel("#"+g,n):a("div.panel[data-crc='"+g+"']").length>0?(i.updatePanel(a("div.panel[data-crc='"+g+"']").get(0).id,n),g=a("div.panel[data-crc='"+g+"']").get(0).id):g=i.addContentDiv(g,j.responseText,f.title?f.title:b,m,h)}else i.updatePanel("afui_ajax",j.responseText),a.query("#afui_ajax").get(0).setAttribute("data-title",f.title?f.title:b),i.loadContent("#afui_ajax",c,d,e),k=!0;var o=document.createElement("div");return a(o).html(j.responseText),i.parseScriptTags(o),k?void(i.showLoading&&i.hideMask()):(i.loadContent("#"+g,c,d,e),i.showLoading&&i.hideMask(),null)}},this.ajaxUrl=b;var k=this.useAjaxCacheBuster?b+(b.split("?")[1]?"&":"?")+"cache="+1e16*Math.random():b;j.open("GET",k,!0),j.setRequestHeader("X-Requested-With","XMLHttpRequest"),j.send(),this.showLoading&&this.showMask()}},runTransition:function(a,b,c,d){this.availableTransitions[a]||(a="default"),this.availableTransitions[a].call(this,b,c,d)},launch:function(){if(this.hasLaunched===!1||this.launchCompleted)return void(this.hasLaunched=!0);var b=this;this.viewportContainer=af.query("#afui"),this.navbar=af.query("#navbar").get(0),this.content=af.query("#content").get(0),this.header=af.query("#header").get(0),this.menu=af.query("#menu").get(0),this.viewportContainer.on("click","a",function(a){b.useInteralRouting&&f(a,a.currentTarget)});var e=null;a.bind(a.touchLayer,"enter-edit",function(a){e=a}),a.bind(a.touchLayer,"enter-edit-reshape",function(){var c=a(e),d=c.closest(b.activeDiv);if(d&&d.size()>0)if(a.os.ios||a.os.chrome){var f,g;f=document.body.scrollTop?document.body.scrollTop-d.offset().top:0,g=d.offset().bottom-c.offset().bottom,b.scrollingDivs[b.activeDiv.id].setPaddings(f,g)}else if(a.os.android||a.os.blackberry){var h=c.offset(),i=d.offset();h.bottom>i.bottom&&h.height<i.height&&b.scrollingDivs[b.activeDiv.id].scrollToItem(c,"bottom")}}),a.os.ios&&a.bind(a.touchLayer,"exit-edit-reshape",function(){b.activeDiv&&b.activeDiv.id&&b.scrollingDivs.hasOwnProperty(b.activeDiv.id)&&b.scrollingDivs[b.activeDiv.id].setPaddings(0,0)}),this.navbar||(this.navbar=a.create("div",{id:"navbar"}).get(0),this.viewportContainer.append(this.navbar)),this.header||(this.header=a.create("div",{id:"header"}).get(0),this.viewportContainer.prepend(this.header)),this.menu||(this.menu=a.create("div",{id:"menu",html:'<div id="menu_scroller"></div>'}).get(0),this.viewportContainer.append(this.menu),this.menu.style.overflow="hidden",this.scrollingDivs.menu_scroller=a.query("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!a.feat.nativeTouchScroll,noParent:a.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce}),a.feat.nativeTouchScroll&&a.query("#menu_scroller").css("height","100%")),this.content||(this.content=a.create("div",{id:"content"}).get(0),this.viewportContainer.append(this.content)),a(this.header).html('<a id="backButton" class="button"></a> <h1 id="pageTitle"></h1>'+this.header.innerHTML),this.backButton=a.query("#header #backButton").css("visibility","hidden"),a(document).on("click","#header #backButton",function(a){a.preventDefault(),b.goBack()}),this.titleBar=a.query("#header #pageTitle").get(0),this.addContentDiv("afui_ajax","");var g=a.create("div",{id:"afui_mask",className:"ui-loader",html:"<span class='ui-icon ui-icon-loading spin'></span><h1>Loading Content</h1>"}).css({"z-index":2e4,display:"none"});document.body.appendChild(g.get(0));var h=a.create("div",{id:"afui_modal"}).get(0);h.appendChild(a.create("div",{id:"modalContainer"}).get(0)),this.modalTransContainer=a.create("div",{id:"modalTransContainer"}).appendTo(h).get(0),this.viewportContainer.append(h),this.scrollingDivs.modal_container=a.query("#modalContainer").scroller({scrollBars:!0,vertical:!0,vScrollCSS:"afScrollbar",noParent:!0,lockBounce:this.lockPageBounce}),this.modalWindow=h;for(var i={},j=this.viewportContainer.get(0).querySelectorAll(".panel"),k=0;k<j.length;k++){var l,m=j[k],n=m,o=m.previousSibling;m.parentNode&&"content"!=m.parentNode.id?(m.parentNode.removeChild(m),l=m.id,n.getAttribute("selected")&&(this.firstDiv=a.query("#"+l).get(0)),this.addDivAndScroll(n),a.query("#"+l).insertAfter(o)):m.parsedContent||(m.parsedContent=1,m.parentNode.removeChild(m),l=m.id,n.getAttribute("selected")&&(this.firstDiv=a.query("#"+l).get(0)),this.addDivAndScroll(n),a.query("#"+l).insertAfter(o)),m.getAttribute("data-defer")&&(i[l]=m.getAttribute("data-defer")),this.firstDiv||(this.firstDiv=a.query("#"+l).get(0)),m=null}j=null;var p=!1,q=Object.keys(i).length;if(q>0){p=!0;var r=0;for(var s in i)!function(c){a.ajax({url:intel.xdk.webRoot+i[c],success:function(d){d.length>0&&(b.updatePanel(c,d),b.parseScriptTags(a.query("#"+c).get(0))),r++,r>=q&&(p=!1,a(document).trigger("defer:loaded"))},error:function(){console.log("Error with deferred load "+intel.xdk.webRoot+i[c]),r++,r>=q&&(p=!1,a(document).trigger("defer:loaded"))}})}(s)}if(this.firstDiv){this.activeDiv=this.firstDiv,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable();var t=function(){a.query("#navbar").append(a.create("footer",{id:"defaultNav"}).append(a.query("#navbar").children())),b.defaultFooter="defaultNav",b.prevFooter=a.query("#defaultNav"),b.updateNavbarElements(b.prevFooter);var e=a.query("nav").get(0);e&&(b.defaultMenu=a(e),b.updateSideMenuElements(b.defaultMenu),b.prevMenu=b.defaultMenu),b.defaultHeader="defaultHeader",a.query("#header").append(a.create("header",{id:"defaultHeader"}).append(a.query("#header").children())),b.prevHeader=a.query("#defaultHeader"),a.query("#navbar").on("click","a",function(b){a.query("#navbar a").not(b.currentTarget).removeClass("pressed"),a(b.currentTarget).addClass("pressed")});var f=a.query("#navbar a");f.length>0&&f.css("width",100/f.length+"%"),a.query("nav").length>0&&(a.query("#afui #header").addClass("hasMenu"),a.query("#afui #content").addClass("hasMenu"),a.query("#afui #navbar").addClass("hasMenu"),a.query("#afui #menu").addClass("tabletMenu"));var g=b.getPanelId(c),h=!(g!="#"+b.firstDiv.id);g.length>0&&b.loadDefaultHash&&!h?b.loadContent(c,!0,!1,"none"):(d="#"+b.firstDiv.id,b.firstDiv.style.display="block",b.parsePanelFunctions(b.firstDiv),b.loadContentData(b.firstDiv),a.query("#header #backButton").css("visibility","hidden"),("true"==b.firstDiv.getAttribute("data-modal")||"true"==b.firstDiv.getAttribute("modal"))&&b.showModal(b.firstDiv.id)),b.launchCompleted=!0,a.query("#afui #splashscreen").remove(),setTimeout(function(){a(document).trigger("afui:ready")})};p?a(document).one("defer:loaded",t):t()}a.bind(b,"content-loaded",function(){if(b.loadContentQueue.length>0){var a=b.loadContentQueue.splice(0,1)[0];b.loadContent(a[0],a[1],a[2],a[3],a[4])}}),(window.navigator.standalone||this.isIntel)&&this.blockPageScroll(),this.topClickScroll()},topClickScroll:function(){var a=this;document.getElementById("header").addEventListener("click",function(b){b.clientY<=15&&"h1"==b.target.nodeName.toLowerCase()&&a.scrollingDivs[a.activeDiv.id].scrollToTop("100")})},blockPageScroll:function(){a.query("#afui #header").bind("touchmove",function(a){a.preventDefault()})},noTransition:function(a,b){b.style.display="block",a.style.display="block";var c=this;c.clearAnimations(b),c.css3animate(a,{x:"0%",y:0}),c.finishTransition(a),b.style.zIndex=2,a.style.zIndex=1},finishTransition:function(b,c){b.style.display="none",this.doingTransition=!1,c&&this.clearAnimations(c),b&&this.clearAnimations(b),a.trigger(this,"content-loaded")},clearAnimations:function(b){b.style[a.feat.cssPrefix+"Transform"]="none",b.style[a.feat.cssPrefix+"Transition"]="none"}};var f=function(b,c){if(c!=afui){if("a"!=c.tagName.toLowerCase()&&c.parentNode)return f(b,c.parentNode);if("undefined"!==c.tagName&&"a"==c.tagName.toLowerCase()){var d="function"==typeof a.ui.customClickHandler?a.ui.customClickHandler:!1;if(d!==!1&&a.ui.customClickHandler(c,b))return b.preventDefault();if(-1!==c.href.toLowerCase().indexOf("javascript:")||c.getAttribute("data-ignore"))return;if(0===c.href.indexOf("tel:"))return!1;if(-1===c.hash.indexOf("#")&&c.target.length>0)return void(0!==c.href.toLowerCase().indexOf("javascript:")&&(a.ui.isIntel?(b.preventDefault(),intel.xdk.device.launchExternal(c.href)):a.os.desktop||(b.target.target="_blank")));var e=c.href,g=location.protocol+"//"+location.hostname+":"+location.port+location.pathname;if(0===e.indexOf(g)&&(e=e.substring(g.length)),"#"==e||e.indexOf("#")===e.length-1||0===e.length&&0===c.hash.length)return b.preventDefault();b.preventDefault();var h=c.getAttribute("data-transition"),i=c.getAttribute("data-resetHistory");return i=i&&"true"==i.toLowerCase()?!0:!1,e=c.hash.length>0?c.hash:e,void a.ui.loadContent(e,i,0,h,c)}}},g="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",h=function(a,b){void 0===b&&(b=0);var c=0,d=0;b=-1^b;for(var e=0,f=a.length;f>e;e++)c=255&(b^a.charCodeAt(e)),d="0x"+g.substr(9*c,8),b=b>>>8^d;return-1^b};a.ui=new e,a.ui.init=!0,a(window).trigger("afui:preinit"),a(window).trigger("afui:init")}(af),function(a){a(document).one("intel.xdk.device.ready",function(){a.ui.isIntel=!0,setTimeout(function(){document.getElementById("afui").style.height="100%",document.body.style.height="100%",document.documentElement.style.minHeight=window.innerHeight},300),a.ui.ready(function(){a.ui.blockPageScroll()})}),a.feat.nativeTouchScroll&&document.addEventListener("orientationchange",function(){if(a.ui.scrollingDivs[a.ui.activeDiv.id]){var b=a.ui.scrollingDivs[a.ui.activeDiv.id];0===b.el.scrollTop&&(b.disable(),setTimeout(function(){b.enable()},300))}})}(af),function(a){function b(b,c,d){b.style.display="block",c.style.display="block";var e=this;d?e.css3animate(b,{x:"0%",y:"0%",complete:function(){e.css3animate(b,{x:"100%",time:a.transitionTime,complete:function(){e.finishTransition(b,c)}}).link(c,{x:"0%",time:a.transitionTime})}}).link(c,{x:"-100%",y:"0%"}):e.css3animate(b,{x:"0%",y:"0%",complete:function(){e.css3animate(b,{x:"-100%",time:a.transitionTime,complete:function(){e.finishTransition(b,c)}}).link(c,{x:"0%",time:a.transitionTime})}}).link(c,{x:"100%",y:"0%"})}a.availableTransitions.slide=b,a.availableTransitions["default"]=b}(af.ui),function(a){function b(b,c,d){b.style.display="block",c.style.display="block";var e=this;d?(b.style.zIndex=2,c.style.zIndex=1,e.css3animate(b,{y:"0%",x:"0%",complete:function(){e.css3animate(b,{y:"100%",time:a.transitionTime,complete:function(){e.finishTransition(b,c)}})}})):(b.style.zIndex=1,c.style.zIndex=2,e.css3animate(c,{y:"100%",x:"0%",time:"10ms",complete:function(){e.css3animate(c,{y:"0%",time:a.transitionTime,complete:function(){e.finishTransition(b,c)}})}}))}a.availableTransitions.up=b}(af.ui),function(a){function b(b,c,d){b.style.display="block",c.style.display="block";var e=this;d?(b.style.zIndex=2,c.style.zIndex=1,e.css3animate(b,{y:"0%",x:"0%",complete:function(){e.css3animate(b,{y:"-100%",time:a.transitionTime,complete:function(){e.finishTransition(b,c)}})}})):(b.style.zIndex=1,c.style.zIndex=2,e.css3animate(c,{y:"-100%",x:"0%",time:"10ms",complete:function(){e.css3animate(c,{y:"0%",time:a.transitionTime,complete:function(){e.finishTransition(b,c)}})}}))}a.availableTransitions.down=b}(af.ui),function(a){function b(b,c,d){b.style.display="block",c.style.display="block";var e=this;d?(c.style.zIndex=1,b.style.zIndex=2,e.clearAnimations(c),e.css3animate(b,{x:"0%",time:a.transitionTime,opacity:.1,scale:.2,origin:"50% 50%",complete:function(a){return a?void e.finishTransition(b):(e.css3animate(b,{x:"-100%",complete:function(){e.finishTransition(b)}}),c.style.zIndex=2,void(b.style.zIndex=1))}})):(b.style.zIndex=1,c.style.zIndex=2,e.css3animate(c,{x:"0%",scale:.2,origin:"50% 50%",opacity:.1,time:"0ms",complete:function(){e.css3animate(c,{x:"0%",time:a.transitionTime,scale:1,opacity:1,origin:"0% 0%",complete:function(a){return a?void e.finishTransition(b,c):(e.clearAnimations(c),void e.css3animate(b,{x:"100%",y:0,complete:function(){e.finishTransition(b)}}))}})}}))}a.availableTransitions.pop=b}(af.ui),function(a){function b(b,c,d){b.style.display="block",c.style.display="block";var e=this;d?(c.style.zIndex=1,b.style.zIndex=2,e.clearAnimations(c),e.css3animate(b,{x:"0%",time:a.transitionTime,opacity:.1,complete:function(a){return a?void e.finishTransition(b,c):(e.css3animate(b,{x:"-100%",opacity:1,complete:function(){e.finishTransition(b)}}),c.style.zIndex=2,void(b.style.zIndex=1))}})):(b.style.zIndex=1,c.style.zIndex=2,c.style.opacity=0,e.css3animate(c,{x:"0%",opacity:.1,complete:function(){e.css3animate(c,{x:"0%",time:a.transitionTime,opacity:1,complete:function(a){return a?void e.finishTransition(b,c):(e.clearAnimations(c),void e.css3animate(b,{x:"-100%",y:0,complete:function(){e.finishTransition(b)}}))}})}}))}a.availableTransitions.fade=b}(af.ui),function(a){function b(b,c,d){b.style.display="block",c.style.display="block";var e=this;d?(e.css3animate(c,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){e.css3animate(c,{x:"0%",scale:1,time:a.transitionTime,rotateY:"0deg",complete:function(){e.clearAnimations(c)}})}}),e.css3animate(b,{x:"100%",time:a.transitionTime,scale:.8,rotateY:"180deg",complete:function(){e.css3animate(b,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){e.finishTransition(b)}}),c.style.zIndex=2,b.style.zIndex=1}})):(b.style.zIndex=1,c.style.zIndex=2,e.css3animate(c,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){e.css3animate(c,{x:"0%",scale:1,time:a.transitionTime,rotateY:"0deg",complete:function(){e.clearAnimations(c)}})}}),e.css3animate(b,{x:"100%",time:a.transitionTime,scale:.8,rotateY:"180deg",complete:function(){e.css3animate(b,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){e.finishTransition(b)}}),c.style.zIndex=2,b.style.zIndex=1}}))}a.availableTransitions.flip=b}(af.ui),function(a){"use strict";function b(){a.ui.isWin8=!0,a.os.ie&&a.ui.ready(function(){a.ui.slideSideMenu&&(a.ui.slideSideMenu=!1),a.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'></a>");var b=a.query("#afui #navbar").find("a");if(b.length>0){b.data("ignore-pressed","true").data("resetHistory","true");var c=parseFloat(100/b.length);b.css("width",c+"%")}var d=a.ui.updateNavbarElements;a.ui.updateNavbarElements=function(){d.apply(a.ui,arguments),1!=a.query("#afui #navbar #metroMenu").length&&a.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'></a>")};a.ui.toggleSideMenu;a.ui.isSideMenuOn=function(){var b=parseInt(a.getCssMatrix(a("#navbar")).f)<0?!0:!1;return this.isSideMenuEnabled()&&b},a.ui.toggleSideMenu=function(b,c){if(this.isSideMenuEnabled()&&!this.togglingSideMenu){this.togglingSideMenu=!0;var d=this,e=a.query("#menu"),f=a.query("#navbar"),g=this.isSideMenuOn();2===b||!g&&(void 0!==b&&b!==!1||void 0===b)?(e.show(),d.css3animate(f,{y:"-150px",time:a.ui.transitionTime,complete:function(){d.togglingSideMenu=!1,c&&c(!0)}}),d.css3animate(e,{y:"0px",time:a.ui.transitionTime})):(void 0===b||void 0!==b&&b===!1)&&(d.css3animate(f,{y:"0",time:a.ui.transitionTime,complete:function(){d.togglingSideMenu=!1,c&&c(!0),e.hide()}}),d.css3animate(e,{y:"150px",time:a.ui.transitionTime}))}}})}if(!a)throw"This plugin requires jqUi";a.ui?b():a(document).ready(function(){b()})}(af),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.4";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?null:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f},x.bind=function(a,b){if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");
var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:new RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=++H+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var a,b=this,c=b.Backbone,d=[],e=d.push,f=d.slice,g=d.splice;a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="1.0.0";var h=b._;h||"undefined"==typeof require||(h=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender||b.$,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var i=a.Events={on:function(a,b,c){if(!k(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!k(this,"once",a,[b,c])||!b)return this;var d=this,e=h.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,g,i,j,l,m;if(!this._events||!k(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:h.keys(this._events),i=0,j=g.length;j>i;i++)if(a=g[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=f.length;m>l;l++)e=f[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!k(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&l(c,b),d&&l(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},j=/\s+/,k=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(j.test(c)){for(var f=c.split(j),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},l=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},m={listenTo:"on",listenToOnce:"once"};h.each(m,function(a,b){i[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=h.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),i.bind=i.on,i.unbind=i.off,h.extend(a,i);var n=a.Model=function(a,b){var c,d=a||{};b||(b={}),this.cid=h.uniqueId("c"),this.attributes={},h.extend(this,h.pick(b,o)),b.parse&&(d=this.parse(d,b)||{}),(c=h.result(this,"defaults"))&&(d=h.defaults({},d,c)),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)},o=["url","urlRoot","collection"];h.extend(n.prototype,i,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,g,i,j,k,l;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,i=c.silent,g=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=h.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],h.isEqual(l[d],b)||g.push(d),h.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete l[d]:l[d]=b;if(!i){g.length&&(this._pending=!0);for(var m=0,n=g.length;n>m;m++)this.trigger("change:"+g[m],this,l[g[m]],c)}if(j)return this;if(!i)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,h.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)h.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d){return b.set(b.parse(d,a),a)?(c&&c(b,d,a),void b.trigger("sync",b,d,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,c){var d,e,f,g=this.attributes;if(null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,!(!d||c&&c.wait||this.set(d,c)))return!1;if(c=h.extend({validate:!0},c),!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=h.extend({},g,d)),void 0===c.parse&&(c.parse=!0);var i=this,j=c.success;return c.success=function(a){i.attributes=g;var b=i.parse(a,c);return c.wait&&(b=h.extend(d||{},b)),h.isObject(b)&&!i.set(b,c)?!1:(j&&j(i,a,c),void i.trigger("sync",i,a,c))},L(this,c),e=this.isNew()?"create":c.patch?"patch":"update","patch"===e&&(c.attrs=d),f=this.sync(e,this,c),d&&c.wait&&(this.attributes=g),f},destroy:function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(e){(a.wait||b.isNew())&&d(),c&&c(b,e,a),b.isNew()||b.trigger("sync",b,e,a)},this.isNew())return a.success(),!1;L(this,a);var e=this.sync("delete",this,a);return a.wait||d(),e},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||K();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},h.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,h.extend(b||{},{validationError:c})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];h.each(p,function(a){n.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.attributes),h[a].apply(h,b)}});var q=a.Collection=function(a,b){b||(b={}),b.url&&(this.url=b.url),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,h.extend({silent:!0},b))},r={add:!0,remove:!0,merge:!0},s={add:!0,merge:!1,remove:!1};h.extend(q.prototype,i,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){return this.set(a,h.defaults(b||{},s))},remove:function(a,b){a=h.isArray(a)?a.slice():[a],b||(b={});var c,d,e,f;for(c=0,d=a.length;d>c;c++)f=this.get(a[c]),f&&(delete this._byId[f.id],delete this._byId[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f));return this},set:function(a,b){b=h.defaults(b||{},r),b.parse&&(a=this.parse(a,b)),h.isArray(a)||(a=a?[a]:[]);var c,d,f,i,j,k=b.at,l=this.comparator&&null==k&&b.sort!==!1,m=h.isString(this.comparator)?this.comparator:null,n=[],o=[],p={};for(c=0,d=a.length;d>c;c++)(f=this._prepareModel(a[c],b))&&((i=this.get(f))?(b.remove&&(p[i.cid]=!0),b.merge&&(i.set(f.attributes,b),l&&!j&&i.hasChanged(m)&&(j=!0))):b.add&&(n.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f)));if(b.remove){for(c=0,d=this.length;d>c;++c)p[(f=this.models[c]).cid]||o.push(f);o.length&&this.remove(o,b)}if(n.length&&(l&&(j=!0),this.length+=n.length,null!=k?g.apply(this.models,[k,0].concat(n)):e.apply(this.models,n)),j&&this.sort({silent:!0}),b.silent)return this;for(c=0,d=n.length;d>c;c++)(f=n[c]).trigger("add",f,this,b);return j&&this.trigger("sort",this,b),this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c]);return b.previousModels=this.models,this._reset(),this.add(a,h.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),this},push:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:this.length},b)),a},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:0},b)),a},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return h.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=h.isFunction(b)?b:function(a){return a.get(b)};return h.sortedIndex(this.models,a,d,c)},pluck:function(a){return h.invoke(this.models,"get",a)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b(c,d,a),c.trigger("sync",c,d,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?h.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(e){b.wait&&c.add(a,b),d&&d(a,e,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof n)return a.collection||(a.collection=this),a;b||(b={}),b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var t=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(t,function(a){q.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.models),h[a].apply(h,b)}});var u=["groupBy","countBy","sortBy"];h.each(u,function(a){q.prototype[a]=function(b,c){var d=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,d,c)}});var v=a.View=function(a){this.cid=h.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];h.extend(v.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=h.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(h.isFunction(c)||(c=this[a[b]]),c){var d=b.match(w),e=d[1],f=d[2];c=h.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,c):this.$el.on(e,f,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(a){this.options&&(a=h.extend({},h.result(this,"options"),a)),h.extend(this,h.pick(a,x)),this.options=a},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var b=h.extend({},h.result(this,"attributes"));this.id&&(b.id=h.result(this,"id")),this.className&&(b["class"]=h.result(this,"className"));var c=a.$("<"+h.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}}),a.sync=function(b,c,d){var e=y[b];h.defaults(d||(d={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var f={type:e,dataType:"json"};if(d.url||(f.url=h.result(c,"url")||K()),null!=d.data||!c||"create"!==b&&"update"!==b&&"patch"!==b||(f.contentType="application/json",f.data=JSON.stringify(d.attrs||c.toJSON(d))),d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{}),d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST",d.emulateJSON&&(f.data._method=e);var g=d.beforeSend;d.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",e),g?g.apply(this,arguments):void 0}}"GET"===f.type||d.emulateJSON||(f.processData=!1),"PATCH"!==f.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=d.xhr=a.ajax(h.extend(f,d));return c.trigger("request",c,i,d),i};var y={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var z=a.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,C=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(z.prototype,i,{initialize:function(){},route:function(b,c,d){h.isRegExp(b)||(b=this._routeToRegExp(b)),h.isFunction(c)&&(d=c,c=""),d||(d=this[c]);var e=this;return a.history.route(b,function(f){var g=e._extractParameters(b,f);d&&d.apply(e,g),e.trigger.apply(e,["route:"+c].concat(g)),e.trigger("route",c,g),a.history.trigger("route",e,c,g)}),this},navigate:function(b,c){return a.history.navigate(b,c),this},_bindRoutes:function(){if(this.routes){this.routes=h.result(this,"routes");for(var a,b=h.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(D,"\\$&").replace(A,"(?:$1)?").replace(B,function(a,b){return b?a:"([^/]+)"}).replace(C,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return h.map(c,function(a){return a?decodeURIComponent(a):null})}});var E=a.History=function(){this.handlers=[],h.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,G=/^\/+|\/+$/g,H=/msie [\w.]+/,I=/\/$/;E.started=!1,h.extend(E.prototype,i,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(I,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(F,"")},start:function(b){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=h.extend({},{root:"/"},this.options,b),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var c=this.getFragment(),d=document.documentMode,e=H.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(G,"/"),e&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c)),this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=c;var f=this.location,g=f.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&g&&f.hash&&(this.fragment=this.getHash().replace(F,""),this.history.replaceState({},document.title,this.root+this.fragment+f.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),E.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=h.any(this.handlers,function(a){return a.route.test(b)?(a.callback(b),!0):void 0});return c},navigate:function(a,b){if(!E.started)return!1;if(b&&b!==!0||(b={trigger:b}),a=this.getFragment(a||""),this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),a.history=new E;var J=function(a,b){var c,d=this;c=a&&h.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},h.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&h.extend(c.prototype,a),c.__super__=d.prototype,c};n.extend=q.extend=z.extend=v.extend=E.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}}}.call(this);var Handlebars={};!function(a,b){a.VERSION="1.0.0",a.COMPILER_REVISION=4,a.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},a.helpers={},a.partials={};var c=Object.prototype.toString,d="[object Function]",e="[object Object]";a.registerHelper=function(b,d,f){if(c.call(b)===e){if(f||d)throw new a.Exception("Arg not supported with multiple helpers");a.Utils.extend(this.helpers,b)}else f&&(d.not=f),this.helpers[b]=d},a.registerPartial=function(b,d){c.call(b)===e?a.Utils.extend(this.partials,b):this.partials[b]=d},a.registerHelper("helperMissing",function(a){if(2===arguments.length)return b;throw new Error("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,e){var f=e.inverse||function(){},g=e.fn,h=c.call(b);return h===d&&(b=b.call(this)),b===!0?g(this):b===!1||null==b?f(this):"[object Array]"===h?b.length>0?a.helpers.each(b,e):f(this):g(b)}),a.K=function(){},a.createFrame=Object.create||function(b){a.K.prototype=b;var c=new a.K;return a.K.prototype=null,c},a.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(b,c){if(a.logger.level<=b){var d=a.logger.methodMap[b];"undefined"!=typeof console&&console[d]&&console[d].call(console,c)}}},a.log=function(b,c){a.logger.log(b,c)},a.registerHelper("each",function(b,e){var f,g=e.fn,h=e.inverse,i=0,j="",k=c.call(b);if(k===d&&(b=b.call(this)),e.data&&(f=a.createFrame(e.data)),b&&"object"==typeof b)if(b instanceof Array)for(var l=b.length;l>i;i++)f&&(f.index=i),j+=g(b[i],{data:f});else for(var m in b)b.hasOwnProperty(m)&&(f&&(f.key=m),j+=g(b[m],{data:f}),i++);return 0===i&&(j=h(this)),j}),a.registerHelper("if",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),!b||a.Utils.isEmpty(b)?e.inverse(this):e.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn})}),a.registerHelper("with",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),a.Utils.isEmpty(b)?void 0:e.fn(b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)});var f=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(a,b,c,d,e,f){var g=f.length-1;switch(e){case 1:return f[g-1];case 2:this.$=new d.ProgramNode([],f[g]);break;case 3:this.$=new d.ProgramNode(f[g-2],f[g]);break;case 4:this.$=new d.ProgramNode(f[g-1],[]);break;case 5:this.$=new d.ProgramNode(f[g]);break;case 6:this.$=new d.ProgramNode([],[]);break;case 7:this.$=new d.ProgramNode([]);break;case 8:this.$=[f[g]];break;case 9:f[g-1].push(f[g]),this.$=f[g-1];break;case 10:this.$=new d.BlockNode(f[g-2],f[g-1].inverse,f[g-1],f[g]);break;case 11:this.$=new d.BlockNode(f[g-2],f[g-1],f[g-1].inverse,f[g]);break;case 12:this.$=f[g];break;case 13:this.$=f[g];break;case 14:this.$=new d.ContentNode(f[g]);break;case 15:this.$=new d.CommentNode(f[g]);break;case 16:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1]);break;case 17:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1]);break;case 18:this.$=f[g-1];break;case 19:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1],"&"===f[g-2][2]);break;case 20:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1],!0);break;case 21:this.$=new d.PartialNode(f[g-1]);break;case 22:this.$=new d.PartialNode(f[g-2],f[g-1]);break;case 23:break;case 24:this.$=[[f[g-2]].concat(f[g-1]),f[g]];break;case 25:this.$=[[f[g-1]].concat(f[g]),null];break;case 26:this.$=[[f[g-1]],f[g]];break;case 27:this.$=[[f[g]],null];break;case 28:this.$=[[f[g]],null];break;case 29:f[g-1].push(f[g]),this.$=f[g-1];break;case 30:this.$=[f[g]];break;case 31:this.$=f[g];break;case 32:this.$=new d.StringNode(f[g]);break;case 33:this.$=new d.IntegerNode(f[g]);break;case 34:this.$=new d.BooleanNode(f[g]);break;case 35:this.$=f[g];break;case 36:this.$=new d.HashNode(f[g]);break;case 37:f[g-1].push(f[g]),this.$=f[g-1];break;case 38:this.$=[f[g]];break;case 39:this.$=[f[g-2],f[g]];break;case 40:this.$=[f[g-2],new d.StringNode(f[g])];break;case 41:this.$=[f[g-2],new d.IntegerNode(f[g])];break;case 42:this.$=[f[g-2],new d.BooleanNode(f[g])];break;case 43:this.$=[f[g-2],f[g]];break;case 44:this.$=new d.PartialNameNode(f[g]);break;case 45:this.$=new d.PartialNameNode(new d.StringNode(f[g]));break;case 46:this.$=new d.PartialNameNode(new d.IntegerNode(f[g]));break;case 47:this.$=new d.DataNode(f[g]);break;case 48:this.$=new d.IdNode(f[g]);break;case 49:f[g-2].push({part:f[g],separator:f[g-1]}),this.$=f[g-2];break;case 50:this.$=[{part:f[g]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(a){throw new Error(a)
},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){switch(c){case 0:return b.yytext="\\",14;case 1:if("\\"!==b.yytext.slice(-1)&&this.begin("mu"),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1),this.begin("emu")),b.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==b.yytext.slice(-1)&&this.popState(),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1)),14;case 4:return b.yytext=b.yytext.substr(0,b.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return b.yytext=b.yytext.substr(3,b.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\"/g,'"'),31;case 23:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return b.yytext=b.yytext.substr(1,b.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},a.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();a.Parser=f,a.parse=function(b){return b.constructor===a.AST.ProgramNode?b:(a.Parser.yy=a.AST,a.Parser.parse(b))},a.AST={},a.AST.ProgramNode=function(b,c){this.type="program",this.statements=b,c&&(this.inverse=new a.AST.ProgramNode(c))},a.AST.MustacheNode=function(a,b,c){this.type="mustache",this.escaped=!c,this.hash=b;var d=this.id=a[0],e=this.params=a.slice(1),f=this.eligibleHelper=d.isSimple;this.isHelper=f&&(e.length||b)},a.AST.PartialNode=function(a,b){this.type="partial",this.partialName=a,this.context=b},a.AST.BlockNode=function(b,c,d,e){var f=function(b,c){if(b.original!==c.original)throw new a.Exception(b.original+" doesn't match "+c.original)};f(b.id,e),this.type="block",this.mustache=b,this.program=c,this.inverse=d,this.inverse&&!this.program&&(this.isInverse=!0)},a.AST.ContentNode=function(a){this.type="content",this.string=a},a.AST.HashNode=function(a){this.type="hash",this.pairs=a},a.AST.IdNode=function(b){this.type="ID";for(var c="",d=[],e=0,f=0,g=b.length;g>f;f++){var h=b[f].part;if(c+=(b[f].separator||"")+h,".."===h||"."===h||"this"===h){if(d.length>0)throw new a.Exception("Invalid path: "+c);".."===h?e++:this.isScoped=!0}else d.push(h)}this.original=c,this.parts=d,this.string=d.join("."),this.depth=e,this.isSimple=1===b.length&&!this.isScoped&&0===e,this.stringModeValue=this.string},a.AST.PartialNameNode=function(a){this.type="PARTIAL_NAME",this.name=a.original},a.AST.DataNode=function(a){this.type="DATA",this.id=a},a.AST.StringNode=function(a){this.type="STRING",this.original=this.string=this.stringModeValue=a},a.AST.IntegerNode=function(a){this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},a.AST.BooleanNode=function(a){this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},a.AST.CommentNode=function(a){this.type="comment",this.comment=a};var g=["description","fileName","lineNumber","message","name","number","stack"];a.Exception=function(){for(var a=Error.prototype.constructor.apply(this,arguments),b=0;b<g.length;b++)this[g[b]]=a[g[b]]},a.Exception.prototype=new Error,a.SafeString=function(a){this.string=a},a.SafeString.prototype.toString=function(){return this.string.toString()};var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/,k=function(a){return h[a]||"&amp;"};a.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(b){return b instanceof a.SafeString?b.toString():null==b||b===!1?"":(b=b.toString(),j.test(b)?b.replace(i,k):b)},isEmpty:function(a){return a||0===a?"[object Array]"===c.call(a)&&0===a.length?!0:!1:!0}};var l=a.Compiler=function(){},m=a.JavaScriptCompiler=function(){};l.prototype={compiler:l,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){var b,c=a.statements;this.opcodes=[];for(var d=0,e=c.length;e>d;d++)b=c[d],this[b.type](b);return this.isSimple=1===e,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=this.classifyMustache(b);"helper"===e?this.helperMustache(b,c,d):"simple"===e?(this.simpleMustache(b),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(b,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.options,c=this.classifyMustache(a);"simple"===c?this.simpleMustache(a):"helper"===c?this.helperMustache(a):this.ambiguousMustache(a),this.opcode(a.escaped&&!b.noEscape?"appendEscaped":"append")},ambiguousMustache:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleMustache:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+e);this.opcode("invokeHelper",d.length,e)}},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(b){if(this.options.data=!0,b.id.isScoped||b.id.depth)throw new a.Exception("Scoped data references are not supported: "+b.original);this.opcode("lookupData");for(var c=b.id.parts,d=0,e=c.length;e>d;d++)this.opcode("lookup",c[d])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw new Error("EWOT");0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifyMustache:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type)):this[b.type](b)},setupMustacheParams:function(a){var b=a.params;return this.pushParams(b),a.hash?this.hash(a.hash):this.opcode("emptyHash"),b},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}};var n=function(a){this.value=a};m.prototype={nameLookup:function(a,b){return/^[0-9]+$/.test(b)?a+"["+b+"]":m.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(b,c,d,e){this.environment=b,this.options=c||{},a.log(a.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!d,this.context=d||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(b,c);var f,g=b.opcodes;for(this.i=0,r=g.length;this.i<r;this.i++)f=g[this.i],"DECLARE"===f.opcode?this[f.name]=f.value:this[f.opcode].apply(this,f.args);return this.createFunctionContext(e)},nextOpcode:function(){var a=this.environment.opcodes;return a[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}a.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(b){var c=this.stackVars.concat(this.registers.list);if(c.length>0&&(this.source[1]=this.source[1]+", "+c.join(", ")),!this.isChild)for(var d in this.context.aliases)this.context.aliases.hasOwnProperty(d)&&(this.source[1]=this.source[1]+", "+d+"="+this.context.aliases[d]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var e=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],f=0,g=this.environment.depths.list.length;g>f;f++)e.push("depth"+this.environment.depths.list[f]);var h=this.mergeSource();if(!this.isChild){var i=a.COMPILER_REVISION,j=a.REVISION_CHANGES[i];h="this.compilerInfo = ["+i+",'"+j+"'];\n"+h}if(b)return e.push(h),Function.apply(this,e);var k="function "+(this.name||"")+"("+e.join(",")+") {\n  "+h+"}";return a.log(a.logger.DEBUG,k+"\n\n"),k},mergeSource:function(){for(var a,c="",d=0,e=this.source.length;e>d;d++){var f=this.source[d];f.appendToBuffer?a=a?a+"\n    + "+f.content:f.content:(a&&(c+="buffer += "+a+";\n  ",a=b),c+=f+"\n  ")}return c},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),a[a.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){this.flushInline();var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"string"==typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=b,this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes","{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){this.pushStackLiteral(null!=a?this.programExpression(a):null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b,!0),d=this.nameLookup("depth"+this.lastContext,b,"context");this.push(c.name+" || "+d),this.replaceStack(function(a){return a+" ? "+a+".call("+c.callParams+") : helperMissing.call("+c.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();this.source.push("if ("+f+" = "+d+") { "+f+" = "+f+".call("+c.callParams+"); }"),this.source.push("else { "+f+" = "+e+"; "+f+" = typeof "+f+" === functionType ? "+f+".apply(depth0) : "+f+"; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:m,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],e.push(1===b?"depth0":"depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.source.push(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new n(a))},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.source.push(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,c="",d=this.isInline();if(d){var e=this.popStack(!0);if(e instanceof n)b=e.value;else{var f=this.stackSlot?this.topStackName():this.incrStack();c="("+this.push(f)+" = "+e+"),",b=this.topStack()}}else b=this.topStack();var g=a.call(this,b);return d?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+c+g+")")):(/^stack/.test(b)||(b=this.nextStack()),this.source.push(b+" = ("+c+g+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var d=a[b];d instanceof n?this.compileStack.push(d):this.pushStack(d)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();return!a&&c instanceof n?c.value:(b||this.stackSlot--,c)},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,c=b[b.length-1];return!a&&c instanceof n?c.value:c},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[];this.setupParams(a,d,c);var e=this.nameLookup("helpers",b,"helper");return{params:d,name:e,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupParams:function(a,b,c){var d,e,f,g=[],h=[],i=[];g.push("hash:"+this.popStack()),e=this.popStack(),f=this.popStack(),(f||e)&&(f||(this.context.aliases.self="this",f="self.noop"),e||(this.context.aliases.self="this",e="self.noop"),g.push("inverse:"+e),g.push("fn:"+f));for(var j=0;a>j;j++)d=this.popStack(),b.push(d),this.options.stringParams&&(i.push(this.popStack()),h.push(this.popStack()));return this.options.stringParams&&(g.push("contexts:["+h.join(",")+"]"),g.push("types:["+i.join(",")+"]"),g.push("hashContexts:hashContexts"),g.push("hashTypes:hashTypes")),this.options.data&&g.push("data:data"),g="{"+g.join(",")+"}",c?(this.register("options",g),b.push("options")):b.push(g),b.join(", ")}};for(var o="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),p=m.RESERVED_WORDS={},q=0,r=o.length;r>q;q++)p[o[q]]=!0;m.isValidJavaScriptVariableName=function(a){return!m.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1},a.precompile=function(b,c){if(null==b||"string"!=typeof b&&b.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);c=c||{},"data"in c||(c.data=!0);var d=a.parse(b),e=(new l).compile(d,c);return(new m).compile(e,c)},a.compile=function(c,d){function e(){var e=a.parse(c),f=(new l).compile(e,d),g=(new m).compile(f,d,b,!0);return a.template(g)}if(null==c||"string"!=typeof c&&c.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+c);d=d||{},"data"in d||(d.data=!0);var f;return function(a,b){return f||(f=e()),f.call(this,a,b)}},a.VM={template:function(b){var c={escapeExpression:a.Utils.escapeExpression,invokePartial:a.VM.invokePartial,programs:[],program:function(b,c,d){var e=this.programs[b];return d?e=a.VM.program(b,c,d):e||(e=this.programs[b]=a.VM.program(b,c)),e},merge:function(b,c){var d=b||c;return b&&c&&(d={},a.Utils.extend(d,c),a.Utils.extend(d,b)),d},programWithDepth:a.VM.programWithDepth,noop:a.VM.noop,compilerInfo:null};return function(d,e){e=e||{};var f=b.call(c,a,d,e.helpers,e.partials,e.data),g=c.compilerInfo||[],h=g[0]||1,i=a.COMPILER_REVISION;if(h!==i){if(i>h){var j=a.REVISION_CHANGES[i],k=a.REVISION_CHANGES[h];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+j+") or downgrade your runtime to an older version ("+k+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+")."}return f}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e},program:function(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d},noop:function(){return""},invokePartial:function(c,d,e,f,g,h){var i={helpers:f,partials:g,data:h};if(c===b)throw new a.Exception("The partial "+d+" could not be found");if(c instanceof Function)return c(e,i);if(a.compile)return g[d]=a.compile(c,{data:h!==b}),g[d](e,i);throw new a.Exception("The partial "+d+" could not be compiled when running in runtime-only mode")}},a.template=a.VM.template}(Handlebars),function(a){function b(a){var b=r[a]={};return k(a.split(/\s+/),function(a){b[a]=!0}),b}var c={},d=Array.prototype,e=Object.prototype,f=e.hasOwnProperty,g=e.toString,h=d.forEach,i=d.indexOf,j=d.slice,k=function(a,b,d){var e,g,i;if(a)if(h&&a.forEach===h)a.forEach(b,d);else if(a.length===+a.length){for(g=0,i=a.length;i>g;g++)if(g in a&&b.call(d,a[g],g,a)===c)return}else for(e in a)if(f.call(a,e)&&b.call(d,a[e],e,a)===c)return},l=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},m=function(a){return k(j.call(arguments,1),function(b){var c;for(c in b)void 0!==b[c]&&(a[c]=b[c])}),a},n=function(a,b,c){var d;if(b){if(i)return i.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},o={};k("Boolean Number String Function Array Date RegExp Object".split(" "),function(a){o["[object "+a+"]"]=a.toLowerCase()});var p=function(a){return null==a?String(a):o[g.call(a)]||"object"},q={},r={};q.Callbacks=function(a){a="string"==typeof a?r[a]||b(a):m({},a);var c,d,e,f,g,h,i=[],j=!a.once&&[],l=function(b){for(c=a.memory&&b,d=!0,h=f||0,f=0,g=i.length,e=!0;i&&g>h;h++)if(i[h].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&l(j.shift()):c?i=[]:o.disable())},o={add:function(){if(i){var b=i.length;!function d(b){k(b,function(b){var c=p(b);"function"===c?a.unique&&o.has(b)||i.push(b):b&&b.length&&"string"!==c&&d(b)})}(arguments),e?g=i.length:c&&(f=b,l(c))}return this},remove:function(){return i&&k(arguments,function(a){for(var b;(b=n(a,i,b))>-1;)i.splice(b,1),e&&(g>=b&&g--,h>=b&&h--)}),this},has:function(a){return n(a,i)>-1},empty:function(){return i=[],this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||o.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!i||d&&!j||(e?j.push(b):l(b)),this},fire:function(){return o.fireWith(this,arguments),this},fired:function(){return!!d}};return o},q.Deferred=function(a){var b=[["resolve","done",q.Callbacks("once memory"),"resolved"],["reject","fail",q.Callbacks("once memory"),"rejected"],["notify","progress",q.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return q.Deferred(function(c){k(b,function(b,d){var f=b[0],g=a[d];e[b[1]](l(g)?function(){var a;try{a=g.apply(this,arguments)}catch(b){return void c.reject(b)}a&&l(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c["notify"!==f?"resolveWith":f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?m(a,d):d}},e={};return d.pipe=d.then,k(b,function(a,f){var g=a[2],h=a[3];d[a[1]]=g.add,h&&g.add(function(){c=h},b[1^f][2].disable,b[2][2].lock),e[a[0]]=g.fire,e[a[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},q.when=function(a){var b=0,c="array"===p(a)&&1===arguments.length?a:j.call(arguments),d=c.length;"array"===p(a)&&1===a.length&&(a=a[0]);var e,f,g,h=1!==d||a&&l(a.promise)?d:0,i=1===h?a:q.Deferred(),k=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?j.call(arguments):d,c===e?i.notifyWith(b,c):--h||i.resolveWith(b,c)}};if(d>1)for(e=new Array(d),f=new Array(d),g=new Array(d);d>b;b++)c[b]&&l(c[b].promise)?c[b].promise().done(k(b,g,c)).fail(i.reject).progress(k(b,f,e)):--h;
return h||i.resolveWith(g,c),i.promise()},"undefined"!=typeof module&&module.exports?module.exports=q:"undefined"!=typeof a._?a._.mixin(q):a._=q}(this)(function(a,b,c){function d(a,c){this.wrapper="string"==typeof a?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&h.hasPerspective?" translateZ(0)":"",this.options.useTransition=h.hasTransition&&this.options.useTransition,this.options.useTransform=h.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?h.ease[this.options.bounceEasing]||h.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function e(a,c,d){var e=b.createElement("div"),f=b.createElement("div");return d===!0&&(e.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator","h"==a?(d===!0&&(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),e.className="iScrollHorizontalScrollbar"):(d===!0&&(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),e.className="iScrollVerticalScrollbar"),e.style.cssText+=";overflow:hidden",c||(e.style.pointerEvents="none"),e.appendChild(f),e}function f(c,d){this.wrapper="string"==typeof d.el?b.querySelector(d.el):d.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var e in d)this.options[e]=d[e];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(h.addEvent(this.indicator,"touchstart",this),h.addEvent(a,"touchend",this)),this.options.disablePointer||(h.addEvent(this.indicator,"MSPointerDown",this),h.addEvent(a,"MSPointerUp",this)),this.options.disableMouse||(h.addEvent(this.indicator,"mousedown",this),h.addEvent(a,"mouseup",this))),this.options.fade&&(this.wrapperStyle[h.style.transform]=this.scroller.translateZ,this.wrapperStyle[h.style.transitionDuration]=h.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var g=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},h=function(){function d(a){return g===!1?!1:""===g?a:g+a.charAt(0).toUpperCase()+a.substr(1)}var e={},f=b.createElement("div").style,g=function(){for(var a,b=["t","webkitT","MozT","msT","OT"],c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(a,b){for(var c in b)a[c]=b[c]},e.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},e.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},e.momentum=function(a,b,d,e,f,g){var h,i,j=a-b,k=c.abs(j)/d;return g=void 0===g?6e-4:g,h=a+k*k/(2*g)*(0>j?-1:1),i=k/g,e>h?(h=f?e-f/2.5*(k/8):e,j=c.abs(h-a),i=j/k):h>0&&(h=f?f/2.5*(k/8):0,j=c.abs(a)+h,i=j/k),{destination:c.round(h),duration:i}};var h=d("transform");return e.extend(e,{hasTransform:h!==!1,hasPerspective:d("perspective")in f,hasTouch:"ontouchstart"in a,hasPointer:navigator.msPointerEnabled,hasTransition:d("transition")in f}),e.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\/\d/.test(a.navigator.appVersion),e.extend(e.style={},{transform:h,transitionTimingFunction:d("transitionTimingFunction"),transitionDuration:d("transitionDuration"),transitionDelay:d("transitionDelay"),transformOrigin:d("transformOrigin")}),e.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},e.addClass=function(a,b){if(!e.hasClass(a,b)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},e.removeClass=function(a,b){if(e.hasClass(a,b)){var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")}},e.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},e.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,d=.4;return 0===a?0:1==a?1:d*c.pow(2,-10*a)*c.sin(2*(a-b/4)*c.PI/b)+1}}}),e.tap=function(a,c){var d=b.createEvent("Event");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},e.click=function(a){var c,d=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(d.tagName)||(c=b.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._constructed=!0,d.dispatchEvent(c))},e}();d.prototype={version:"5.1.1",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(!(1!=h.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&h.eventType[a.type]!==this.initiated)){!this.options.preventDefault||h.isBadAndroid||h.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b,d=a.touches?a.touches[0]:a;this.initiated=h.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=h.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,b=this.getComputedPosition(),this._translate(c.round(b.x),c.round(b.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=d.pageX,this.pointY=d.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,d,e,f,g=a.touches?a.touches[0]:a,i=g.pageX-this.pointX,j=g.pageY-this.pointY,k=h.getTime();if(this.pointX=g.pageX,this.pointY=g.pageY,this.distX+=i,this.distY+=j,e=c.abs(this.distX),f=c.abs(this.distY),!(k-this.endTime>300&&10>e&&10>f)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=e>f+this.options.directionLockThreshold?"h":f>=e+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);j=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);i=0}i=this.hasHorizontalScroll?i:0,j=this.hasVerticalScroll?j:0,b=this.x+i,d=this.y+j,(b>0||b<this.maxScrollX)&&(b=this.options.bounce?this.x+i/3:b>0?0:this.maxScrollX),(d>0||d<this.maxScrollY)&&(d=this.options.bounce?this.y+j/3:d>0?0:this.maxScrollY),this.directionX=i>0?-1:0>i?1:0,this.directionY=j>0?-1:0>j?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(b,d),k-this.startTime>300&&(this.startTime=k,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&!h.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b,d,e=(a.changedTouches?a.changedTouches[0]:a,h.getTime()-this.startTime),f=c.round(this.x),g=c.round(this.y),i=c.abs(f-this.startX),j=c.abs(g-this.startY),k=0,l="";if(this.isInTransition=0,this.initiated=0,this.endTime=h.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(f,g),!this.moved)return this.options.tap&&h.tap(a,this.options.tap),this.options.click&&h.click(a),void this._execEvent("scrollCancel");if(this._events.flick&&200>e&&100>i&&100>j)return void this._execEvent("flick");if(this.options.momentum&&300>e&&(b=this.hasHorizontalScroll?h.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:f,duration:0},d=this.hasVerticalScroll?h.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:g,duration:0},f=b.destination,g=d.destination,k=c.max(b.duration,d.duration),this.isInTransition=1),this.options.snap){var m=this._nearestSnap(f,g);this.currentPage=m,k=this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-m.x),1e3),c.min(c.abs(g-m.y),1e3)),300),f=m.x,g=m.y,this.directionX=0,this.directionY=0,l=this.options.bounceEasing}return f!=this.x||g!=this.y?((f>0||f<this.maxScrollX||g>0||g<this.maxScrollY)&&(l=h.ease.quadratic),void this.scrollTo(f,g,k,l)):void this._execEvent("scrollEnd")}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=h.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||h.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,d,e,f){if(a=a.nodeType?a:this.scroller.querySelector(a)){var g=h.offset(a);g.left-=this.wrapperOffset.left,g.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),e===!0&&(e=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),g.left-=d||0,g.top-=e||0,g.left=g.left>0?0:g.left<this.maxScrollX?this.maxScrollX:g.left,g.top=g.top>0?0:g.top<this.maxScrollY?this.maxScrollY:g.top,b=void 0===b||null===b||"auto"===b?c.max(c.abs(this.x-g.left),c.abs(this.y-g.top)):b,this.scrollTo(g.left,g.top,b,f)}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[h.style.transitionDuration]=a+"ms",!a&&h.isBadAndroid&&(this.scrollerStyle[h.style.transitionDuration]="0.001s"),this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[h.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[h.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b,this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?h.removeEvent:h.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this),c(a,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),h.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,"MSPointerDown",this),c(d,"MSPointerMove",this),c(d,"MSPointerCancel",this),c(d,"MSPointerUp",this)),h.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var b,c,d=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(d=d[h.style.transform].split(")")[0].split(", "),b=+(d[12]||d[4]),c=+(d[13]||d[5])):(b=+d.left.replace(/[^-\d.]/g,""),c=+d.top.replace(/[^-\d.]/g,"")),{x:b,y:c}},_initIndicators:function(){function a(a){for(var b=h.indicators.length;b--;)a.call(h.indicators[b])}var b,c=this.options.interactiveScrollbars,d="string"!=typeof this.options.scrollbars,g=[],h=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(b={el:e("v",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:d,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(b.el),g.push(b)),this.options.scrollX&&(b={el:e("h",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:d,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(b.el),g.push(b))),this.options.indicators&&(g=g.concat(this.options.indicators));for(var i=g.length;i--;)this.indicators.push(new f(this,g[i]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})})),this.on("refresh",function(){a(function(){this.refresh()})}),this.on("destroy",function(){a(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){h.addEvent(this.wrapper,"wheel",this),h.addEvent(this.wrapper,"mousewheel",this),h.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){h.removeEvent(this.wrapper,"wheel",this),h.removeEvent(this.wrapper,"mousewheel",this),h.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var b,d,e,f,g=this;if(void 0===this.wheelTimeout&&g._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent("scrollEnd"),g.wheelTimeout=void 0},400),"deltaX"in a)b=-a.deltaX,d=-a.deltaY;else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,d=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=d=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in a))return;b=d=-a.detail/3*this.options.mouseWheelSpeed}if(b*=this.options.invertWheelDirection,d*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=d,d=0),this.options.snap)return e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:0>b&&e++,d>0?f--:0>d&&f++,void this.goToPage(e,f);e=this.x+c.round(this.hasHorizontalScroll?b:0),f=this.y+c.round(this.hasVerticalScroll?d:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var a,b,d,e,f,g,h=0,i=0,j=0,k=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(d=c.round(k/2),e=c.round(l/2);j>-this.scrollerWidth;){for(this.pages[h]=[],a=0,f=0;f>-this.scrollerHeight;)this.pages[h][a]={x:c.max(j,this.maxScrollX),y:c.max(f,this.maxScrollY),width:k,height:l,cx:j-d,cy:f-e},f-=l,a++;j-=k,h++}else for(g=this.options.snap,a=g.length,b=-1;a>h;h++)(0===h||g[h].offsetLeft<=g[h-1].offsetLeft)&&(i=0,b++),this.pages[i]||(this.pages[i]=[]),j=c.max(-g[h].offsetLeft,this.maxScrollX),f=c.max(-g[h].offsetTop,this.maxScrollY),d=j-c.round(g[h].offsetWidth/2),e=f-c.round(g[h].offsetHeight/2),this.pages[i][b]={x:j,y:f,width:g[h].offsetWidth,height:g[h].offsetHeight,cx:d,cy:e},j>this.maxScrollX&&i++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);e>d;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}for(e=this.pages[d].length;e>f;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,0>d?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,0>f?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=void 0===d?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,0>c&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(){var b,c={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(b in this.options.keyBindings)"string"==typeof this.options.keyBindings[b]&&(this.options.keyBindings[b]=this.options.keyBindings[b].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(b in c)this.options.keyBindings[b]=this.options.keyBindings[b]||c[b];h.addEvent(a,"keydown",this),this.on("destroy",function(){h.removeEvent(a,"keydown",this)})},_key:function(a){if(this.enabled){var b,d=this.options.snap,e=d?this.currentPage.pageX:this.x,f=d?this.currentPage.pageY:this.y,g=h.getTime(),i=this.keyTime||0,j=.25;switch(this.options.useTransition&&this.isInTransition&&(b=this.getComputedPosition(),this._translate(c.round(b.x),c.round(b.y)),this.isInTransition=!1),this.keyAcceleration=200>g-i?c.min(this.keyAcceleration+j,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?e+=d?1:this.wrapperWidth:f+=d?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?e-=d?1:this.wrapperWidth:f-=d?1:this.wrapperHeight;break;case this.options.keyBindings.end:e=d?this.pages.length-1:this.maxScrollX,f=d?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:e=0,f=0;break;case this.options.keyBindings.left:e+=d?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=d?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:e-=d?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=d?1:5+this.keyAcceleration>>0;break;default:return}if(d)return void this.goToPage(e,f);e>0?(e=0,this.keyAcceleration=0):e<this.maxScrollX&&(e=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(e,f,0),this.keyTime=g}},_animate:function(a,b,c,d){function e(){var m,n,o,p=h.getTime();return p>=l?(f.isAnimating=!1,f._translate(a,b),void(f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd"))):(p=(p-k)/c,o=d(p),m=(a-i)*o+i,n=(b-j)*o+j,f._translate(m,n),void(f.isAnimating&&g(e)))}var f=this,i=this.x,j=this.y,k=h.getTime(),l=k+c;this.isAnimating=!0,e()},handleEvent:function(a){switch(a.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},f.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(h.removeEvent(this.indicator,"touchstart",this),h.removeEvent(this.indicator,"MSPointerDown",this),h.removeEvent(this.indicator,"mousedown",this),h.removeEvent(a,"touchmove",this),h.removeEvent(a,"MSPointerMove",this),h.removeEvent(a,"mousemove",this),h.removeEvent(a,"touchend",this),h.removeEvent(a,"MSPointerUp",this),h.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=h.getTime(),this.options.disableTouch||h.addEvent(a,"touchmove",this),this.options.disablePointer||h.addEvent(a,"MSPointerMove",this),this.options.disableMouse||h.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){{var b,c,d,e,f=a.touches?a.touches[0]:a;h.getTime()}this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,b=f.pageX-this.lastPointX,this.lastPointX=f.pageX,c=f.pageY-this.lastPointY,this.lastPointY=f.pageY,d=this.x+b,e=this.y+c,this._pos(d,e),a.preventDefault(),a.stopPropagation()},_end:function(b){if(this.initiated){if(this.initiated=!1,b.preventDefault(),b.stopPropagation(),h.removeEvent(a,"touchmove",this),h.removeEvent(a,"MSPointerMove",this),h.removeEvent(a,"mousemove",this),this.scroller.options.snap){var d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),e=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300);(this.scroller.x!=d.x||this.scroller.y!=d.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,e,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){a=a||0,this.indicatorStyle[h.style.transitionDuration]=a+"ms",!a&&h.isBadAndroid&&(this.indicatorStyle[h.style.transitionDuration]="0.001s")},transitionTimingFunction:function(a){this.indicatorStyle[h.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(h.addClass(this.wrapper,"iScrollBothScrollbars"),h.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(h.removeClass(this.wrapper,"iScrollBothScrollbars"),h.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=c.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=c.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=c.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=c.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[h.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),0>b?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?"1":"0",this.wrapperStyle[h.style.transitionDuration]=c+"ms",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},d.utils=h,"undefined"!=typeof module&&module.exports?module.exports=d:a.IScroll=d})(window,document,Math);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=Base64._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return i},decode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)e=this._keyStr.indexOf(a.charAt(j++)),f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!=g&&(i+=String.fromCharCode(c)),64!=h&&(i+=String.fromCharCode(d));
return i=Base64._utf8_decode(i)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}};